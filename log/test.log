  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "body_treatment_id" integer, "studio_id" integer, "duration_id" integer, "date" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "body_treatments"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "body_treatments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "category" varchar, "description" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "durations"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "durations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "body_treatment_id" integer, "duration" integer, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "locations"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "locations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "body_treatment_id" integer, "studio_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "studios"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "studios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "city" varchar, "address" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "token" varchar)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200525013540)[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200522000635),
(20200523021651),
(20200523053549),
(20200523093014),
(20200523094432),
(20200523094529),
(20200524004945),
(20200524011445);

[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-05-28 03:42:53.604606"], ["updated_at", "2020-05-28 03:42:53.604606"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "b060beece0a1d578cdb2e861b766b4e635e841a2"], ["created_at", "2020-05-28 03:42:53.624870"], ["updated_at", "2020-05-28 03:42:53.624870"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$RMYw/VD/Nz0lyu8/FNCbgehq6XJ.8MQIppPVL756CbKon79VlM64S"], ["created_at", "2020-05-28 03:42:53.911607"], ["updated_at", "2020-05-28 03:42:53.911607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$XFTAe8U8hVLujq8vJxCw0.PxqQp6N6IcQyx./3f2ewfgMnhbnzk3W"], ["created_at", "2020-05-28 03:45:50.174578"], ["updated_at", "2020-05-28 03:45:50.174578"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$1R/Gbn.mALG6zSy1iLL98uHxJa7.fcqUIzdkC2S.oKOdv/iI5Y6FS"], ["created_at", "2020-05-28 03:46:36.290261"], ["updated_at", "2020-05-28 03:46:36.290261"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$qLjmIJjiiD.zhf9CcXkNnet/pPWPH3NQnkAvAFZdHtPaUuQqbTSH2"], ["created_at", "2020-05-28 04:10:10.816776"], ["updated_at", "2020-05-28 04:10:10.816776"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$EPEDnNLNw2gXJNFcFiquVeKndZSxDUvKURcm1U3.MKyGLGmQZ6If6"], ["created_at", "2020-05-28 08:18:44.325232"], ["updated_at", "2020-05-28 08:18:44.325232"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.9ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$N6XPrEKYiujBOhbMI/GYOOWDoUB.vnqoH0pU4CQINdk3Y3d72VylK"], ["created_at", "2020-05-28 08:22:54.703792"], ["updated_at", "2020-05-28 08:22:54.703792"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$EmBhcjWN8TFZ3o6hQHxP0e861A0NWx9NmKghaqgLL3zu6ChdvuCO."], ["created_at", "2020-05-28 08:41:50.113983"], ["updated_at", "2020-05-28 08:41:50.113983"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$VDvh4..bsN/51Lsh/uwbkeQIOOPljCE8t6ytxR9erCn7rNWGbt8pq"], ["created_at", "2020-05-28 08:41:50.155114"], ["updated_at", "2020-05-28 08:41:50.155114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$Jzk.xwEZoCzg75i9hFdCn.ovohf1yXo8OwUS26fx09zok20mGh/t2"], ["created_at", "2020-05-28 08:44:40.176077"], ["updated_at", "2020-05-28 08:44:40.176077"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Ugp89ndYaycz3JCSkU7X2.xr/mdq9K9423eO3NcXOH3SnSbEmjo3C"], ["created_at", "2020-05-28 08:44:40.221159"], ["updated_at", "2020-05-28 08:44:40.221159"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 08:52:18.654726"], ["updated_at", "2020-05-28 08:52:18.654726"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$LdXX8Hcr.XojcabNpp.W/e90iTK28i83RD9/rLDoFcRTje3uyDv.u"], ["created_at", "2020-05-28 08:52:18.685300"], ["updated_at", "2020-05-28 08:52:18.685300"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$uZfHM0GEPquViDp.2mUGR.Qx/IWYnYquL5BGwoIigtz/FM9aqlvBW"], ["created_at", "2020-05-28 08:52:18.729024"], ["updated_at", "2020-05-28 08:52:18.729024"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 08:53:08.594893"], ["updated_at", "2020-05-28 08:53:08.594893"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$xs6P0q3Se1.l0bjuQV87QOfJlOAXLTtk3jiYYrPa2vAYkm79Wsi7O"], ["created_at", "2020-05-28 08:53:08.631042"], ["updated_at", "2020-05-28 08:53:08.631042"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$yIWHmX73gR.PmK5RcIMt2.xXVlUhyvHhSGX90L/HX2UHokdvnYMY."], ["created_at", "2020-05-28 08:53:08.677709"], ["updated_at", "2020-05-28 08:53:08.677709"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBodyTreatment Create (1.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Lore"], ["category", "Ipsum"], ["description", "Lore Ipsum"], ["created_at", "2020-05-28 09:01:05.003953"], ["updated_at", "2020-05-28 09:01:05.003953"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:01:05.293758"], ["updated_at", "2020-05-28 09:01:05.293758"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:01:05.308402"], ["updated_at", "2020-05-28 09:01:05.308402"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$SV4IfBqolKf0uvX/KsUKiO8QTAdkSixzP9I1tMQiqSKYgJKAGaNUm"], ["created_at", "2020-05-28 09:01:05.350656"], ["updated_at", "2020-05-28 09:01:05.350656"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$byhmKJE.5dr/dIcPIYPAg.OB1kQgpHFtfQYJn6/kMHVyIXfnPfRDu"], ["created_at", "2020-05-28 09:01:05.391613"], ["updated_at", "2020-05-28 09:01:05.391613"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Lore"], ["category", "Ipsum"], ["description", "Lore Ipsum"], ["created_at", "2020-05-28 09:02:19.741706"], ["updated_at", "2020-05-28 09:02:19.741706"]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:02:19.897347"], ["updated_at", "2020-05-28 09:02:19.897347"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.8ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:02:19.928143"], ["updated_at", "2020-05-28 09:02:19.928143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$lLu7hzJrDSOBl8n4hcxnousY5k/aBaUtakSf/kfYyakShkUkGyerW"], ["created_at", "2020-05-28 09:02:19.965975"], ["updated_at", "2020-05-28 09:02:19.965975"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$6ZnumeuUVahfM3oIMmanEewfs.BQ1OykEC3yfBtX6VbTC5afWRZf6"], ["created_at", "2020-05-28 09:02:20.007797"], ["updated_at", "2020-05-28 09:02:20.007797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:10:50.964578"], ["updated_at", "2020-05-28 09:10:50.964578"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.7ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:10:51.001775"], ["updated_at", "2020-05-28 09:10:51.001775"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$rRPuMRGpeAheoBs8IKD2h.nEn8PheBmEM5dGRvZ/y7qlbEAIzjyHa"], ["created_at", "2020-05-28 09:10:51.040973"], ["updated_at", "2020-05-28 09:10:51.040973"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$a9nsyZfHrEqutXyQLs/DluBGtHjVzmRq1swLMGujsnaMgiKjTot0C"], ["created_at", "2020-05-28 09:10:51.086358"], ["updated_at", "2020-05-28 09:10:51.086358"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:12:31.677239"], ["updated_at", "2020-05-28 09:12:31.677239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:12:31.704973"], ["updated_at", "2020-05-28 09:12:31.704973"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:12:31.706954"], ["updated_at", "2020-05-28 09:12:31.706954"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:12:31.724973"], ["updated_at", "2020-05-28 09:12:31.724973"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:12:31.731093"], ["updated_at", "2020-05-28 09:12:31.731093"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$UM1.x7ltG41Vwc9wmmvmxOmtOIAo8r/4ixypBhHzhMYXJ22XjnTYi"], ["created_at", "2020-05-28 09:12:31.771580"], ["updated_at", "2020-05-28 09:12:31.771580"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ugh1Hz55Fh5HTng8ET/bvOrlabAHeLbcsPUvZM2V7WEoNtFJ6Emie"], ["created_at", "2020-05-28 09:12:31.837896"], ["updated_at", "2020-05-28 09:12:31.837896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:13:17.564739"], ["updated_at", "2020-05-28 09:13:17.564739"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:13:17.593096"], ["updated_at", "2020-05-28 09:13:17.593096"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:13:17.594971"], ["updated_at", "2020-05-28 09:13:17.594971"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:13:17.605621"], ["updated_at", "2020-05-28 09:13:17.605621"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:13:17.609349"], ["updated_at", "2020-05-28 09:13:17.609349"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:13:17.611170"], ["updated_at", "2020-05-28 09:13:17.611170"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:13:17.621730"], ["updated_at", "2020-05-28 09:13:17.621730"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$/8NlZ..JYwbdG0ZABFlQbuJ4OSxc2wLL17/VCI.e/lJRANaergu2m"], ["created_at", "2020-05-28 09:13:17.664560"], ["updated_at", "2020-05-28 09:13:17.664560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$L/OqW4mahDCFOeNbrGCPsuPEqISW07F/jWesh7ptuZIFSPm4TqMPS"], ["created_at", "2020-05-28 09:13:17.731375"], ["updated_at", "2020-05-28 09:13:17.731375"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:13:41.935583"], ["updated_at", "2020-05-28 09:13:41.935583"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:13:41.965654"], ["updated_at", "2020-05-28 09:13:41.965654"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:13:41.967451"], ["updated_at", "2020-05-28 09:13:41.967451"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:13:41.980162"], ["updated_at", "2020-05-28 09:13:41.980162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:13:41.984463"], ["updated_at", "2020-05-28 09:13:41.984463"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:13:41.986520"], ["updated_at", "2020-05-28 09:13:41.986520"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:13:41.993088"], ["updated_at", "2020-05-28 09:13:41.993088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:13:41.994264"], ["updated_at", "2020-05-28 09:13:41.994264"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:13:42.006990"], ["updated_at", "2020-05-28 09:13:42.006990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$xLR0m1y.arWQkQbKVlAOeOBBObrrZqcvKQ2nb3hu4fbYNUo9S/tTu"], ["created_at", "2020-05-28 09:13:42.045110"], ["updated_at", "2020-05-28 09:13:42.045110"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$6fvPWnxXVoj4GNnzUGg.PO2PdJj0107Dr9Z62gXg1PEoNhHu4oxbO"], ["created_at", "2020-05-28 09:13:42.114341"], ["updated_at", "2020-05-28 09:13:42.114341"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:20:09.831282"], ["updated_at", "2020-05-28 09:20:09.831282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.6ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:20:09.853105"], ["updated_at", "2020-05-28 09:20:09.853105"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:20:09.871399"], ["updated_at", "2020-05-28 09:20:09.871399"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:20:09.888236"], ["updated_at", "2020-05-28 09:20:09.888236"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:20:09.889761"], ["updated_at", "2020-05-28 09:20:09.889761"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:20:09.899448"], ["updated_at", "2020-05-28 09:20:09.899448"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:20:09.903518"], ["updated_at", "2020-05-28 09:20:09.903518"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:20:09.905512"], ["updated_at", "2020-05-28 09:20:09.905512"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:20:09.913675"], ["updated_at", "2020-05-28 09:20:09.913675"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:20:09.915360"], ["updated_at", "2020-05-28 09:20:09.915360"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:20:09.926023"], ["updated_at", "2020-05-28 09:20:09.926023"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$kki4PiHSzZpovYZkdL.4Re76Am85P3efYy4crbW44eYyNYya2Yc9C"], ["created_at", "2020-05-28 09:20:09.983158"], ["updated_at", "2020-05-28 09:20:09.983158"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$PHsRhsMiXMJFsSh1iePpdOw.WZ7XNLPz10E20Qg4/M/Y/SoPvyZDu"], ["created_at", "2020-05-28 09:20:10.020819"], ["updated_at", "2020-05-28 09:20:10.020819"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:20:51.313731"], ["updated_at", "2020-05-28 09:20:51.313731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:20:51.338808"], ["updated_at", "2020-05-28 09:20:51.338808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:20:51.358237"], ["updated_at", "2020-05-28 09:20:51.358237"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:20:51.363495"], ["updated_at", "2020-05-28 09:20:51.363495"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:20:51.379686"], ["updated_at", "2020-05-28 09:20:51.379686"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:20:51.381052"], ["updated_at", "2020-05-28 09:20:51.381052"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:20:51.390949"], ["updated_at", "2020-05-28 09:20:51.390949"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:20:51.395156"], ["updated_at", "2020-05-28 09:20:51.395156"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:20:51.399058"], ["updated_at", "2020-05-28 09:20:51.399058"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:20:51.408288"], ["updated_at", "2020-05-28 09:20:51.408288"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:20:51.409759"], ["updated_at", "2020-05-28 09:20:51.409759"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.7ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:20:51.418626"], ["updated_at", "2020-05-28 09:20:51.418626"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$Tkbnio5R9AsJLOkTBgSYzOPvDOshLEdLjx5Ry35/XAfDy6voh1kQi"], ["created_at", "2020-05-28 09:20:51.478728"], ["updated_at", "2020-05-28 09:20:51.478728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$DAxfQLps99qNtsOVnc8uE.1au7DpwliqLJEePjQsZX6EBYf9mMGKq"], ["created_at", "2020-05-28 09:20:51.514420"], ["updated_at", "2020-05-28 09:20:51.514420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:22:00.980099"], ["updated_at", "2020-05-28 09:22:00.980099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:22:01.003989"], ["updated_at", "2020-05-28 09:22:01.003989"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:22:01.019189"], ["updated_at", "2020-05-28 09:22:01.019189"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:22:01.023840"], ["updated_at", "2020-05-28 09:22:01.023840"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:22:01.030577"], ["updated_at", "2020-05-28 09:22:01.030577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:22:01.039659"], ["updated_at", "2020-05-28 09:22:01.039659"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:22:01.055806"], ["updated_at", "2020-05-28 09:22:01.055806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:22:01.057632"], ["updated_at", "2020-05-28 09:22:01.057632"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:22:01.070375"], ["updated_at", "2020-05-28 09:22:01.070375"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:22:01.075067"], ["updated_at", "2020-05-28 09:22:01.075067"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:22:01.076675"], ["updated_at", "2020-05-28 09:22:01.076675"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:22:01.085121"], ["updated_at", "2020-05-28 09:22:01.085121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:22:01.086702"], ["updated_at", "2020-05-28 09:22:01.086702"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:22:01.096084"], ["updated_at", "2020-05-28 09:22:01.096084"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$zQ83NSPGjJ6RQV5.LxbmwukiBG8JBn8I6fVB32uO67rMo/sYp3WM."], ["created_at", "2020-05-28 09:22:01.159091"], ["updated_at", "2020-05-28 09:22:01.159091"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$AfCh/k5foLwVkZwHNT5b7ev3JZm8qmpY8uHLRfp1HIJ0dbL0APxJi"], ["created_at", "2020-05-28 09:22:01.204345"], ["updated_at", "2020-05-28 09:22:01.204345"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.8ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$s85QAznjhlRzptcSTGYVSuw9oQpnmQg6sVIkCQ27oxTLZvmrkJyjG"], ["created_at", "2020-05-28 09:29:49.399280"], ["updated_at", "2020-05-28 09:29:49.399280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:29:49.407910"], ["updated_at", "2020-05-28 09:29:49.407910"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:29:49.417140"], ["updated_at", "2020-05-28 09:29:49.417140"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:29:49.435391"], ["updated_at", "2020-05-28 09:29:49.435391"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 09:29:49.451766"], ["updated_at", "2020-05-28 09:29:49.451766"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:29:49.456813"], ["updated_at", "2020-05-28 09:29:49.456813"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.5ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:29:49.483403"], ["updated_at", "2020-05-28 09:29:49.483403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:29:49.487256"], ["updated_at", "2020-05-28 09:29:49.487256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:29:49.491749"], ["updated_at", "2020-05-28 09:29:49.491749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:29:49.523829"], ["updated_at", "2020-05-28 09:29:49.523829"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:29:49.530403"], ["updated_at", "2020-05-28 09:29:49.530403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:29:49.538872"], ["updated_at", "2020-05-28 09:29:49.538872"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:29:49.541238"], ["updated_at", "2020-05-28 09:29:49.541238"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:29:49.554632"], ["updated_at", "2020-05-28 09:29:49.554632"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:29:49.559325"], ["updated_at", "2020-05-28 09:29:49.559325"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:29:49.561345"], ["updated_at", "2020-05-28 09:29:49.561345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:29:49.570324"], ["updated_at", "2020-05-28 09:29:49.570324"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:29:49.573474"], ["updated_at", "2020-05-28 09:29:49.573474"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:29:49.582594"], ["updated_at", "2020-05-28 09:29:49.582594"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$7IOI9/qjjspDx8O7v/r8Vurq00lG/wgrCPrUXBgfmb4H8pXkN3jrO"], ["created_at", "2020-05-28 09:29:49.613258"], ["updated_at", "2020-05-28 09:29:49.613258"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$txkL2J6P0i8WqcWdT6l6QeRPTOtZdH9aFwcW74wMvgCpOQy36HM5i"], ["created_at", "2020-05-28 09:29:49.659710"], ["updated_at", "2020-05-28 09:29:49.659710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$NCsPnS5CnXhRi1dpxkQi4u0hoXoNOhCb9EtbOaARsaGzkryTWdk6C"], ["created_at", "2020-05-28 09:31:19.612248"], ["updated_at", "2020-05-28 09:31:19.612248"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:31:19.619147"], ["updated_at", "2020-05-28 09:31:19.619147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:19.626886"], ["updated_at", "2020-05-28 09:31:19.626886"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:31:19.635888"], ["updated_at", "2020-05-28 09:31:19.635888"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 09:31:19.649126"], ["updated_at", "2020-05-28 09:31:19.649126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.5ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:31:19.686903"], ["updated_at", "2020-05-28 09:31:19.686903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:19.731237"], ["updated_at", "2020-05-28 09:31:19.731237"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:31:19.734206"], ["updated_at", "2020-05-28 09:31:19.734206"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:19.738508"], ["updated_at", "2020-05-28 09:31:19.738508"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:19.746582"], ["updated_at", "2020-05-28 09:31:19.746582"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:19.754142"], ["updated_at", "2020-05-28 09:31:19.754142"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:31:19.761071"], ["updated_at", "2020-05-28 09:31:19.761071"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:19.763308"], ["updated_at", "2020-05-28 09:31:19.763308"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:31:19.774060"], ["updated_at", "2020-05-28 09:31:19.774060"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:31:19.778788"], ["updated_at", "2020-05-28 09:31:19.778788"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:19.780624"], ["updated_at", "2020-05-28 09:31:19.780624"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:31:19.788174"], ["updated_at", "2020-05-28 09:31:19.788174"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:19.790746"], ["updated_at", "2020-05-28 09:31:19.790746"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:31:19.800692"], ["updated_at", "2020-05-28 09:31:19.800692"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$EB/lle8gia1Cqt7wbaK0.OaZMyyUHOQuSEdWmgTOz1F2wLMXYfyI2"], ["created_at", "2020-05-28 09:31:19.827660"], ["updated_at", "2020-05-28 09:31:19.827660"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$DPEYH5/BzrWXWf0HqQBLju7GVtZ2sHT1hn.xaTwpPywv81ZUh14w6"], ["created_at", "2020-05-28 09:31:19.869663"], ["updated_at", "2020-05-28 09:31:19.869663"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$pA3uXNh7TjQZUvbCMCBnE.IqW6vi5q7pGYVh4.PX3BkTn1YqbGpoG"], ["created_at", "2020-05-28 09:31:55.875689"], ["updated_at", "2020-05-28 09:31:55.875689"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:31:55.884964"], ["updated_at", "2020-05-28 09:31:55.884964"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:55.894710"], ["updated_at", "2020-05-28 09:31:55.894710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:31:55.904081"], ["updated_at", "2020-05-28 09:31:55.904081"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 09:31:55.919873"], ["updated_at", "2020-05-28 09:31:55.919873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:31:55.956776"], ["updated_at", "2020-05-28 09:31:55.956776"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.5ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:56.001361"], ["updated_at", "2020-05-28 09:31:56.001361"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.3ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:31:56.006700"], ["updated_at", "2020-05-28 09:31:56.006700"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:56.012039"], ["updated_at", "2020-05-28 09:31:56.012039"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:56.018865"], ["updated_at", "2020-05-28 09:31:56.018865"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:56.029311"], ["updated_at", "2020-05-28 09:31:56.029311"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.6ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:31:56.036950"], ["updated_at", "2020-05-28 09:31:56.036950"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:56.039975"], ["updated_at", "2020-05-28 09:31:56.039975"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:31:56.049993"], ["updated_at", "2020-05-28 09:31:56.049993"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:31:56.056158"], ["updated_at", "2020-05-28 09:31:56.056158"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:56.057688"], ["updated_at", "2020-05-28 09:31:56.057688"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:31:56.065516"], ["updated_at", "2020-05-28 09:31:56.065516"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:31:56.066815"], ["updated_at", "2020-05-28 09:31:56.066815"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:31:56.078810"], ["updated_at", "2020-05-28 09:31:56.078810"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$5jdHdz.HD5OwqvZhyaEHaOnm7zTVextY9H0HHO/IId8pgBG6EOAUu"], ["created_at", "2020-05-28 09:31:56.104090"], ["updated_at", "2020-05-28 09:31:56.104090"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ZtKcUVOfur3zsh8vatgijewLXNd5NdI34q7CZy2savpT93qULW4AC"], ["created_at", "2020-05-28 09:31:56.148737"], ["updated_at", "2020-05-28 09:31:56.148737"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$/jYcaYCEY7NzwhQGIcz.8u2UFCNHm9D2WktBI9j5VYbPqqTqW4nhq"], ["created_at", "2020-05-28 09:51:22.078811"], ["updated_at", "2020-05-28 09:51:22.078811"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$4qR1JyuTi/u89x5GUEkPZe7owiXlPPWT/PhJS/i6NstiF9E5tPPT6"], ["created_at", "2020-05-28 09:51:22.105363"], ["updated_at", "2020-05-28 09:51:22.105363"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 09:51:22.106894"], ["token", "16450c01972a72c2d862df864d372183"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Wx4wXUg8BK1QffJG4o6b8uGeSRCOtJlolQOS/LDgy2vs8mMlOpn2u"], ["created_at", "2020-05-28 09:51:22.132597"], ["updated_at", "2020-05-28 09:51:22.132597"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:51:22.142803"], ["updated_at", "2020-05-28 09:51:22.142803"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:51:22.152585"], ["updated_at", "2020-05-28 09:51:22.152585"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:51:22.173956"], ["updated_at", "2020-05-28 09:51:22.173956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 09:51:22.209019"], ["updated_at", "2020-05-28 09:51:22.209019"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.3ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:51:22.252637"], ["updated_at", "2020-05-28 09:51:22.252637"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.6ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:51:22.275296"], ["updated_at", "2020-05-28 09:51:22.275296"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:51:22.279145"], ["updated_at", "2020-05-28 09:51:22.279145"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:51:22.284112"], ["updated_at", "2020-05-28 09:51:22.284112"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:51:22.292013"], ["updated_at", "2020-05-28 09:51:22.292013"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:51:22.300371"], ["updated_at", "2020-05-28 09:51:22.300371"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:51:22.309717"], ["updated_at", "2020-05-28 09:51:22.309717"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:51:22.311829"], ["updated_at", "2020-05-28 09:51:22.311829"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:51:22.325555"], ["updated_at", "2020-05-28 09:51:22.325555"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:51:22.330298"], ["updated_at", "2020-05-28 09:51:22.330298"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:51:22.331874"], ["updated_at", "2020-05-28 09:51:22.331874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:51:22.339897"], ["updated_at", "2020-05-28 09:51:22.339897"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:51:22.342609"], ["updated_at", "2020-05-28 09:51:22.342609"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:51:22.351972"], ["updated_at", "2020-05-28 09:51:22.351972"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$d/7asujobKi.R2ifeTvvruYDO2tLWWVto9m.ZsMg2JWa8VsCMQnmm"], ["created_at", "2020-05-28 09:51:22.382971"], ["updated_at", "2020-05-28 09:51:22.382971"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$nlOHUTnM4nq4897EQts1/uMv4O6HM9WBQGg9joFoxOaPiyQhlbNei"], ["created_at", "2020-05-28 09:51:22.431767"], ["updated_at", "2020-05-28 09:51:22.431767"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ladx1.Kr.YFn9FzSZYnEtOb/Zx6b8MtK8hHTYsvgXHbohZyqYC5K6"], ["created_at", "2020-05-28 09:53:26.657057"], ["updated_at", "2020-05-28 09:53:26.657057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$TW6k/VS05HxE/8IjUCB6VuwtGQdJ0Zt2KcYCsRbTF.dU/86UqJHp."], ["created_at", "2020-05-28 09:53:26.667802"], ["updated_at", "2020-05-28 09:53:26.667802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 09:53:26.669300"], ["token", "a91ae09ee652732899a4239d4f40b450"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$N1Pa6aKULchGgGf3HAPTQeMHEiZv4pRGQjPMBQ4fKRb4tYK81mquW"], ["created_at", "2020-05-28 09:53:26.675687"], ["updated_at", "2020-05-28 09:53:26.675687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:53:26.684454"], ["updated_at", "2020-05-28 09:53:26.684454"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:53:26.693679"], ["updated_at", "2020-05-28 09:53:26.693679"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:53:26.710141"], ["updated_at", "2020-05-28 09:53:26.710141"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 09:53:26.727684"], ["updated_at", "2020-05-28 09:53:26.727684"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.5ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:53:26.778007"], ["updated_at", "2020-05-28 09:53:26.778007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:53:26.796035"], ["updated_at", "2020-05-28 09:53:26.796035"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:53:26.798922"], ["updated_at", "2020-05-28 09:53:26.798922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:53:26.803073"], ["updated_at", "2020-05-28 09:53:26.803073"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:53:26.811675"], ["updated_at", "2020-05-28 09:53:26.811675"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:53:26.818260"], ["updated_at", "2020-05-28 09:53:26.818260"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:53:26.824943"], ["updated_at", "2020-05-28 09:53:26.824943"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:53:26.826845"], ["updated_at", "2020-05-28 09:53:26.826845"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:53:26.837173"], ["updated_at", "2020-05-28 09:53:26.837173"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:53:26.841706"], ["updated_at", "2020-05-28 09:53:26.841706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:53:26.843469"], ["updated_at", "2020-05-28 09:53:26.843469"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:53:26.849901"], ["updated_at", "2020-05-28 09:53:26.849901"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:53:26.851213"], ["updated_at", "2020-05-28 09:53:26.851213"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:53:26.861865"], ["updated_at", "2020-05-28 09:53:26.861865"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$y9hM1IoBdFhS5Z9Q6CS9OufQfoJ048dSwsc8nDPW7tUcq.2S51hua"], ["created_at", "2020-05-28 09:53:26.888581"], ["updated_at", "2020-05-28 09:53:26.888581"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$RyyjMM/ks9kqn7YTsq1QEueS/Wz/8IkJPguMVWULqVOHxS2t05sc2"], ["created_at", "2020-05-28 09:53:26.932571"], ["updated_at", "2020-05-28 09:53:26.932571"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$/XX46ILb91pzDLH8k9Hwt.rnR5N0raFBUs/PBcY6UONUIi8rxnSNe"], ["created_at", "2020-05-28 09:54:56.872900"], ["updated_at", "2020-05-28 09:54:56.872900"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$wAsHKwx8JYqQUS8iOvDhFebc/W3xjlE8ufjGFbifjPHGKMl3nPWWu"], ["created_at", "2020-05-28 09:54:56.883179"], ["updated_at", "2020-05-28 09:54:56.883179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 09:54:56.884694"], ["token", "e5336144b16a6e0673e113e29433d60f"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$EBcRyf.Iu5FH4nW/O8qF0uOmqWa7RngsOWoD9T4I5uGzzt8Hx3lSK"], ["created_at", "2020-05-28 09:54:56.890798"], ["updated_at", "2020-05-28 09:54:56.890798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:54:56.898101"], ["updated_at", "2020-05-28 09:54:56.898101"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:54:56.908597"], ["updated_at", "2020-05-28 09:54:56.908597"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:54:56.927199"], ["updated_at", "2020-05-28 09:54:56.927199"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 09:54:56.947443"], ["updated_at", "2020-05-28 09:54:56.947443"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:54:57.007062"], ["updated_at", "2020-05-28 09:54:57.007062"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:54:57.029417"], ["updated_at", "2020-05-28 09:54:57.029417"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:54:57.032407"], ["updated_at", "2020-05-28 09:54:57.032407"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:54:57.037148"], ["updated_at", "2020-05-28 09:54:57.037148"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:54:57.044457"], ["updated_at", "2020-05-28 09:54:57.044457"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:54:57.052487"], ["updated_at", "2020-05-28 09:54:57.052487"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:54:57.061099"], ["updated_at", "2020-05-28 09:54:57.061099"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:54:57.063079"], ["updated_at", "2020-05-28 09:54:57.063079"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:54:57.076565"], ["updated_at", "2020-05-28 09:54:57.076565"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:54:57.081021"], ["updated_at", "2020-05-28 09:54:57.081021"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:54:57.083268"], ["updated_at", "2020-05-28 09:54:57.083268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:54:57.094342"], ["updated_at", "2020-05-28 09:54:57.094342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:54:57.095767"], ["updated_at", "2020-05-28 09:54:57.095767"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:54:57.103316"], ["updated_at", "2020-05-28 09:54:57.103316"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$pe6X2BFggwxGgroRttTPMehc6olifoA6NvbKJqpt6OfkA25QyoKV."], ["created_at", "2020-05-28 09:54:57.133427"], ["updated_at", "2020-05-28 09:54:57.133427"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$bjUYPPKvBgjs2e03OEKuoO00vGfPYfR9RbRWc5Ye375KfJG01j3Lm"], ["created_at", "2020-05-28 09:54:57.180334"], ["updated_at", "2020-05-28 09:54:57.180334"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$MeIvko9/FadK1/wGQEClp.jtBM4cEYbYMvfDWXi7dl1C526ObXcfW"], ["created_at", "2020-05-28 09:55:52.847056"], ["updated_at", "2020-05-28 09:55:52.847056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$RZ0imbaia1c4XoeSquxpSexKBAkJM8BO5ZEgB9/UYBa4bLgUwKmcK"], ["created_at", "2020-05-28 09:55:52.856023"], ["updated_at", "2020-05-28 09:55:52.856023"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 09:55:52.857333"], ["token", "078c26e88d2cfe903620cf6b9c2aa4d7"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$WJ1aZyWWU7lYSs1oTvUcCud/gZTBG.FGcJ/gbtQLTnpXqBtiIES9e"], ["created_at", "2020-05-28 09:55:52.863761"], ["updated_at", "2020-05-28 09:55:52.863761"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:55:52.873123"], ["updated_at", "2020-05-28 09:55:52.873123"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:55:52.882146"], ["updated_at", "2020-05-28 09:55:52.882146"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:55:52.891772"], ["updated_at", "2020-05-28 09:55:52.891772"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 09:55:52.906094"], ["updated_at", "2020-05-28 09:55:52.906094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.3ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.5ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:55:52.958935"], ["updated_at", "2020-05-28 09:55:52.958935"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:55:52.978147"], ["updated_at", "2020-05-28 09:55:52.978147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.3ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:55:52.983129"], ["updated_at", "2020-05-28 09:55:52.983129"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:55:52.989603"], ["updated_at", "2020-05-28 09:55:52.989603"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:55:52.996604"], ["updated_at", "2020-05-28 09:55:52.996604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:55:53.003820"], ["updated_at", "2020-05-28 09:55:53.003820"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:55:53.011822"], ["updated_at", "2020-05-28 09:55:53.011822"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:55:53.013348"], ["updated_at", "2020-05-28 09:55:53.013348"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.3ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:55:53.022553"], ["updated_at", "2020-05-28 09:55:53.022553"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:55:53.029820"], ["updated_at", "2020-05-28 09:55:53.029820"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:55:53.032598"], ["updated_at", "2020-05-28 09:55:53.032598"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:55:53.042333"], ["updated_at", "2020-05-28 09:55:53.042333"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:55:53.043962"], ["updated_at", "2020-05-28 09:55:53.043962"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.6ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:55:53.053536"], ["updated_at", "2020-05-28 09:55:53.053536"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$NtN.qmrcIld85ce03F/e3.lgAJrGVk0FjzSkYDerRQxfNo3U.OIAC"], ["created_at", "2020-05-28 09:55:53.080466"], ["updated_at", "2020-05-28 09:55:53.080466"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$gGLU59Xy60Ld/OIl3NYNI.Vf0CMAM/mCht92wJJN4/afW/WhVUYWa"], ["created_at", "2020-05-28 09:55:53.121861"], ["updated_at", "2020-05-28 09:55:53.121861"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ZMzYux8kpx3R2pstCy.NbenVoZm1EhrtqflC83oRDhAH4so6AQwQ6"], ["created_at", "2020-05-28 09:58:28.165411"], ["updated_at", "2020-05-28 09:58:28.165411"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$MVPRaRQRyOu8kUbZNrKeBe27W3LbJx8wQNPxy3rm02XXFS6NENeUu"], ["created_at", "2020-05-28 09:58:28.177292"], ["updated_at", "2020-05-28 09:58:28.177292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 09:58:28.178787"], ["token", "b5f7d0fa846ee62e8bf641a570bb06ee"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$3YbiCer4uKeThBl14lzreO5aRKljrvztXwZJw3JWBSO6ZRhp718.a"], ["created_at", "2020-05-28 09:58:28.197657"], ["updated_at", "2020-05-28 09:58:28.197657"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:58:28.206050"], ["updated_at", "2020-05-28 09:58:28.206050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:58:28.216429"], ["updated_at", "2020-05-28 09:58:28.216429"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:58:28.233657"], ["updated_at", "2020-05-28 09:58:28.233657"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 09:58:28.264656"], ["updated_at", "2020-05-28 09:58:28.264656"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:58:28.297624"], ["updated_at", "2020-05-28 09:58:28.297624"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:58:28.317457"], ["updated_at", "2020-05-28 09:58:28.317457"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:58:28.320074"], ["updated_at", "2020-05-28 09:58:28.320074"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:58:28.324093"], ["updated_at", "2020-05-28 09:58:28.324093"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:58:28.334509"], ["updated_at", "2020-05-28 09:58:28.334509"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:58:28.339524"], ["updated_at", "2020-05-28 09:58:28.339524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:58:28.346672"], ["updated_at", "2020-05-28 09:58:28.346672"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:58:28.348415"], ["updated_at", "2020-05-28 09:58:28.348415"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:58:28.359737"], ["updated_at", "2020-05-28 09:58:28.359737"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:58:28.364686"], ["updated_at", "2020-05-28 09:58:28.364686"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:58:28.366217"], ["updated_at", "2020-05-28 09:58:28.366217"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:58:28.373383"], ["updated_at", "2020-05-28 09:58:28.373383"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:58:28.376539"], ["updated_at", "2020-05-28 09:58:28.376539"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:58:28.386533"], ["updated_at", "2020-05-28 09:58:28.386533"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$EiH4X98OG0vKJkERa.YTyuhog87PWyHWrKB80gL/sR557UPy41ea."], ["created_at", "2020-05-28 09:58:28.413998"], ["updated_at", "2020-05-28 09:58:28.413998"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$kJ9qKyG5g8MdYdMz7J9jEu/kW0B.8qGeY664/p5F7k5SfAp1FS3ey"], ["created_at", "2020-05-28 09:58:28.456826"], ["updated_at", "2020-05-28 09:58:28.456826"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$DduFk4P8Rpa4OGSFeE2vNe4SHzrmLTv1C4WzXTYJkSIMKhwNmipHe"], ["created_at", "2020-05-28 09:59:51.815962"], ["updated_at", "2020-05-28 09:59:51.815962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$ZKi8N5dFqrwy8V4GdxXAUObmxBumK8IN646vRe1rjwc6i4EV21kCe"], ["created_at", "2020-05-28 09:59:51.824273"], ["updated_at", "2020-05-28 09:59:51.824273"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 09:59:51.825862"], ["token", "a92497757fe2ab4b5c071c332fe17189"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$XVgMoD0ge3wswnt3YjVS8OC9bwULS6F0Du8Zy04fEQb1dkKmMgUFu"], ["created_at", "2020-05-28 09:59:51.851091"], ["updated_at", "2020-05-28 09:59:51.851091"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:59:51.859001"], ["updated_at", "2020-05-28 09:59:51.859001"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:59:51.868847"], ["updated_at", "2020-05-28 09:59:51.868847"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:59:51.880341"], ["updated_at", "2020-05-28 09:59:51.880341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 09:59:51.913049"], ["updated_at", "2020-05-28 09:59:51.913049"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 09:59:51.945504"], ["updated_at", "2020-05-28 09:59:51.945504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:59:51.965755"], ["updated_at", "2020-05-28 09:59:51.965755"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 09:59:51.968087"], ["updated_at", "2020-05-28 09:59:51.968087"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:59:51.971298"], ["updated_at", "2020-05-28 09:59:51.971298"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:59:51.977406"], ["updated_at", "2020-05-28 09:59:51.977406"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:59:51.983376"], ["updated_at", "2020-05-28 09:59:51.983376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:59:51.991253"], ["updated_at", "2020-05-28 09:59:51.991253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:59:51.993088"], ["updated_at", "2020-05-28 09:59:51.993088"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 09:59:52.003230"], ["updated_at", "2020-05-28 09:59:52.003230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:59:52.007151"], ["updated_at", "2020-05-28 09:59:52.007151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:59:52.008692"], ["updated_at", "2020-05-28 09:59:52.008692"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 09:59:52.015634"], ["updated_at", "2020-05-28 09:59:52.015634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 09:59:52.016933"], ["updated_at", "2020-05-28 09:59:52.016933"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 09:59:52.026161"], ["updated_at", "2020-05-28 09:59:52.026161"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$usHibbYpckDOZcuzfO2CqOGhYMg6ykXdEwtU2wxylF0M2CsnMY7YS"], ["created_at", "2020-05-28 09:59:52.052521"], ["updated_at", "2020-05-28 09:59:52.052521"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$bayYlgIlrx.jpaHjJB8BI.waykk3otPDBuhm8vRXPJn2uC/BgM7Sm"], ["created_at", "2020-05-28 09:59:52.093142"], ["updated_at", "2020-05-28 09:59:52.093142"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$GKDo70RVCLhdQOFGfJyL6ewxfHQsF8U0EPSr60TK/UFTvKmNixj6m"], ["created_at", "2020-05-28 10:02:39.462013"], ["updated_at", "2020-05-28 10:02:39.462013"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$ukhIOzevuxE.MKrtQ6H8oOLvbO4IRayf8HVmkc5Z03av4EtsAqVGm"], ["created_at", "2020-05-28 10:02:39.478875"], ["updated_at", "2020-05-28 10:02:39.478875"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:02:39.480694"], ["token", "0ad0f813c0570e9b5b5ec9042b89d818"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1822)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Pdeh6wHzC2mnrn.nUn8.EuT0ruaR7iNed2tWhwMfm/itygENcwBeq"], ["created_at", "2020-05-28 10:02:39.524826"], ["updated_at", "2020-05-28 10:02:39.524826"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:02:39.535460"], ["updated_at", "2020-05-28 10:02:39.535460"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:02:39.544419"], ["updated_at", "2020-05-28 10:02:39.544419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:02:39.560563"], ["updated_at", "2020-05-28 10:02:39.560563"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:02:39.592603"], ["updated_at", "2020-05-28 10:02:39.592603"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.5ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:02:39.627246"], ["updated_at", "2020-05-28 10:02:39.627246"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:02:39.648578"], ["updated_at", "2020-05-28 10:02:39.648578"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:02:39.651713"], ["updated_at", "2020-05-28 10:02:39.651713"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:02:39.655420"], ["updated_at", "2020-05-28 10:02:39.655420"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:02:39.663143"], ["updated_at", "2020-05-28 10:02:39.663143"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:02:39.670271"], ["updated_at", "2020-05-28 10:02:39.670271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.6ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:02:39.677860"], ["updated_at", "2020-05-28 10:02:39.677860"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:02:39.681181"], ["updated_at", "2020-05-28 10:02:39.681181"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:02:39.692396"], ["updated_at", "2020-05-28 10:02:39.692396"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:02:39.696928"], ["updated_at", "2020-05-28 10:02:39.696928"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:02:39.699900"], ["updated_at", "2020-05-28 10:02:39.699900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:02:39.708147"], ["updated_at", "2020-05-28 10:02:39.708147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:02:39.709991"], ["updated_at", "2020-05-28 10:02:39.709991"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:02:39.720505"], ["updated_at", "2020-05-28 10:02:39.720505"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$FOG/CKuby/NAI.jNr/uXvuSjkGlhDTo3pD13YUWNt898vLRMPIDOi"], ["created_at", "2020-05-28 10:02:39.751067"], ["updated_at", "2020-05-28 10:02:39.751067"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$dBobsZe.eB3JYY5zeliddOOu/so1UU59E.FUvwlfbdHV/QymqsN8."], ["created_at", "2020-05-28 10:02:39.795714"], ["updated_at", "2020-05-28 10:02:39.795714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$1g4oYI8GXr69t6rXRo9Sjed/eFeh0AyPhXEVE/XiYZjtlh4FCC1Bq"], ["created_at", "2020-05-28 10:03:39.294528"], ["updated_at", "2020-05-28 10:03:39.294528"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$7ljK6GrxwkGVVfHyn7VpW.Ir7u4JMG7lWphwFuWZBpT0X8iMOVDMe"], ["created_at", "2020-05-28 10:03:39.303904"], ["updated_at", "2020-05-28 10:03:39.303904"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:03:39.305255"], ["token", "6482b5bdc705ae59a7ee66b5641d7659"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1822)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$LXRNsubDWx27Q5APtGpeo.aPJJ6R6nBp679BpM793dRZ2SVMRMpau"], ["created_at", "2020-05-28 10:03:39.340560"], ["updated_at", "2020-05-28 10:03:39.340560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:03:39.348697"], ["updated_at", "2020-05-28 10:03:39.348697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:03:39.357905"], ["updated_at", "2020-05-28 10:03:39.357905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:03:39.371942"], ["updated_at", "2020-05-28 10:03:39.371942"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:03:39.407117"], ["updated_at", "2020-05-28 10:03:39.407117"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:03:39.438049"], ["updated_at", "2020-05-28 10:03:39.438049"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:03:39.460216"], ["updated_at", "2020-05-28 10:03:39.460216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:03:39.463175"], ["updated_at", "2020-05-28 10:03:39.463175"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:03:39.467899"], ["updated_at", "2020-05-28 10:03:39.467899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:03:39.475289"], ["updated_at", "2020-05-28 10:03:39.475289"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:03:39.480692"], ["updated_at", "2020-05-28 10:03:39.480692"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:03:39.487924"], ["updated_at", "2020-05-28 10:03:39.487924"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:03:39.489624"], ["updated_at", "2020-05-28 10:03:39.489624"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:03:39.499920"], ["updated_at", "2020-05-28 10:03:39.499920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:03:39.504370"], ["updated_at", "2020-05-28 10:03:39.504370"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:03:39.505763"], ["updated_at", "2020-05-28 10:03:39.505763"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:03:39.513676"], ["updated_at", "2020-05-28 10:03:39.513676"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:03:39.515277"], ["updated_at", "2020-05-28 10:03:39.515277"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:03:39.525923"], ["updated_at", "2020-05-28 10:03:39.525923"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$N8UMswajzbLHDqcsCyxDfeH1Z.vJkcUk.3kV0s9yRqKiFqHBZS3.G"], ["created_at", "2020-05-28 10:03:39.551930"], ["updated_at", "2020-05-28 10:03:39.551930"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$i3rS743AqNLvv2ionEydOOQyxLAxsdLP//bs2yD4XhpeUBNziqUI6"], ["created_at", "2020-05-28 10:03:39.595446"], ["updated_at", "2020-05-28 10:03:39.595446"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Gk6cxuKhQ.hbLRnOWGvEe.LOoSjNz9VRld5kkaDnKg.8N55k/leW6"], ["created_at", "2020-05-28 10:04:56.080546"], ["updated_at", "2020-05-28 10:04:56.080546"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$Db5n9KMRkuqjvyZUlISjbexSsX80lMOgBsTGdjHQDu.EN58S/Kvwq"], ["created_at", "2020-05-28 10:04:56.089012"], ["updated_at", "2020-05-28 10:04:56.089012"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:04:56.090315"], ["token", "0201be91cc49a0726f51539a5fff986a"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$SBdJBYo86RKoDuuo7sUTduAz9hYz8lZL9LjwJN..YmJFB/aeRyR.C"], ["created_at", "2020-05-28 10:04:56.119458"], ["updated_at", "2020-05-28 10:04:56.119458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:04:56.128070"], ["updated_at", "2020-05-28 10:04:56.128070"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:04:56.139587"], ["updated_at", "2020-05-28 10:04:56.139587"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:04:56.150405"], ["updated_at", "2020-05-28 10:04:56.150405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:04:56.182003"], ["updated_at", "2020-05-28 10:04:56.182003"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:04:56.218908"], ["updated_at", "2020-05-28 10:04:56.218908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:04:56.238859"], ["updated_at", "2020-05-28 10:04:56.238859"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:04:56.241296"], ["updated_at", "2020-05-28 10:04:56.241296"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:04:56.244780"], ["updated_at", "2020-05-28 10:04:56.244780"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:04:56.251857"], ["updated_at", "2020-05-28 10:04:56.251857"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:04:56.258452"], ["updated_at", "2020-05-28 10:04:56.258452"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:04:56.266636"], ["updated_at", "2020-05-28 10:04:56.266636"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:04:56.269582"], ["updated_at", "2020-05-28 10:04:56.269582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:04:56.279013"], ["updated_at", "2020-05-28 10:04:56.279013"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:04:56.283446"], ["updated_at", "2020-05-28 10:04:56.283446"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:04:56.286127"], ["updated_at", "2020-05-28 10:04:56.286127"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:04:56.292128"], ["updated_at", "2020-05-28 10:04:56.292128"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:04:56.293251"], ["updated_at", "2020-05-28 10:04:56.293251"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:04:56.301337"], ["updated_at", "2020-05-28 10:04:56.301337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$aKNyJTgFncyuM61nE8VOKua6b6WCjkuT1NROqMOO8F7BCxJnVkM7y"], ["created_at", "2020-05-28 10:04:56.328656"], ["updated_at", "2020-05-28 10:04:56.328656"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$5hGgEsFKKkU6Nh43QD75M.64YFBPOxKQGKfK2K2kyFThEoNywAjg."], ["created_at", "2020-05-28 10:04:56.367855"], ["updated_at", "2020-05-28 10:04:56.367855"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$fgqHrBEPFoJBJA2d/saLU.Bj.vDPTS9W2kwWCq4rWC.y7x4XZXwqK"], ["created_at", "2020-05-28 10:05:35.617750"], ["updated_at", "2020-05-28 10:05:35.617750"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$SIaI1z./tgC/1iNqnSLdVeaLlooEb1Gq6Jq7d3xCGa0RXxkmfx/Sy"], ["created_at", "2020-05-28 10:05:35.625650"], ["updated_at", "2020-05-28 10:05:35.625650"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:05:35.626937"], ["token", "3ae2a78dc3cecc94558cac566e8a14d2"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "4e91422dfb2ca500a2f917edb898bfc2"], ["updated_at", "2020-05-28 10:05:35.658609"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$iH8v.hr8K2qr6CGV7GsHIe.3z/p1zeZvuBgxSSeTuv4Z5GG9Asxw2"], ["created_at", "2020-05-28 10:05:35.664246"], ["updated_at", "2020-05-28 10:05:35.664246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:05:35.673479"], ["updated_at", "2020-05-28 10:05:35.673479"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:05:35.682699"], ["updated_at", "2020-05-28 10:05:35.682699"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:05:35.696540"], ["updated_at", "2020-05-28 10:05:35.696540"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:05:35.729156"], ["updated_at", "2020-05-28 10:05:35.729156"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.3ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:05:35.765618"], ["updated_at", "2020-05-28 10:05:35.765618"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.6ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:05:35.782504"], ["updated_at", "2020-05-28 10:05:35.782504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:05:35.786862"], ["updated_at", "2020-05-28 10:05:35.786862"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:05:35.790502"], ["updated_at", "2020-05-28 10:05:35.790502"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:05:35.797131"], ["updated_at", "2020-05-28 10:05:35.797131"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:05:35.803358"], ["updated_at", "2020-05-28 10:05:35.803358"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:05:35.813145"], ["updated_at", "2020-05-28 10:05:35.813145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:05:35.815343"], ["updated_at", "2020-05-28 10:05:35.815343"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:05:35.824291"], ["updated_at", "2020-05-28 10:05:35.824291"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:05:35.829149"], ["updated_at", "2020-05-28 10:05:35.829149"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:05:35.830403"], ["updated_at", "2020-05-28 10:05:35.830403"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:05:35.838451"], ["updated_at", "2020-05-28 10:05:35.838451"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:05:35.839722"], ["updated_at", "2020-05-28 10:05:35.839722"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:05:35.847977"], ["updated_at", "2020-05-28 10:05:35.847977"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$I.QlDymgrG2hPD95jSL9UukcYK6285pH8U9SIiTYxMvF8S8MbaIxW"], ["created_at", "2020-05-28 10:05:35.874868"], ["updated_at", "2020-05-28 10:05:35.874868"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$s8gT9XLEn7UplFZutMXMLeMxND4I0G1gkY4scSBxLPVXgnygijtdy"], ["created_at", "2020-05-28 10:05:35.915967"], ["updated_at", "2020-05-28 10:05:35.915967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$gfL5/Xs7cFpLsEs3cLcCIOScQA3hd9G.HGAGeRyvePFpLnDjlnx8q"], ["created_at", "2020-05-28 10:06:58.716098"], ["updated_at", "2020-05-28 10:06:58.716098"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$dFxKwCU/SzE7MnDfx6LASeWhN3xy1OE/8i7z4.lqiws02vJ4BXvg."], ["created_at", "2020-05-28 10:06:58.727987"], ["updated_at", "2020-05-28 10:06:58.727987"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:06:58.729776"], ["token", "8cd3363d6c626a79f2a1e1bd86a0ffed"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "d7f4533c2d90a89e2bb6017b00c26ad2"], ["updated_at", "2020-05-28 10:06:58.760686"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ljcMtQRVRrSegMvBZVl60evrFOSOtz7hPLKvriLzT5NT/ZiSGQVvm"], ["created_at", "2020-05-28 10:06:58.772092"], ["updated_at", "2020-05-28 10:06:58.772092"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:06:58.780239"], ["updated_at", "2020-05-28 10:06:58.780239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:06:58.791160"], ["updated_at", "2020-05-28 10:06:58.791160"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:06:58.800275"], ["updated_at", "2020-05-28 10:06:58.800275"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:06:58.834245"], ["updated_at", "2020-05-28 10:06:58.834245"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:06:58.866100"], ["updated_at", "2020-05-28 10:06:58.866100"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.7ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:06:58.886008"], ["updated_at", "2020-05-28 10:06:58.886008"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.3ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:06:58.890903"], ["updated_at", "2020-05-28 10:06:58.890903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:06:58.896589"], ["updated_at", "2020-05-28 10:06:58.896589"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:06:58.902302"], ["updated_at", "2020-05-28 10:06:58.902302"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:06:58.909323"], ["updated_at", "2020-05-28 10:06:58.909323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:06:58.916505"], ["updated_at", "2020-05-28 10:06:58.916505"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:06:58.918582"], ["updated_at", "2020-05-28 10:06:58.918582"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:06:58.929127"], ["updated_at", "2020-05-28 10:06:58.929127"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:06:58.933327"], ["updated_at", "2020-05-28 10:06:58.933327"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:06:58.934653"], ["updated_at", "2020-05-28 10:06:58.934653"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:06:58.945111"], ["updated_at", "2020-05-28 10:06:58.945111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:06:58.946482"], ["updated_at", "2020-05-28 10:06:58.946482"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:06:58.953412"], ["updated_at", "2020-05-28 10:06:58.953412"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$xT0bfP9EmyeDII46MREXg.GjD1MUGuS6lTsnoLpOExHkE63wKSIhu"], ["created_at", "2020-05-28 10:06:58.981210"], ["updated_at", "2020-05-28 10:06:58.981210"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$z0ThYrxAmqqkTPzQKEZB5ucmKoCBDeCcyDoXb9VqQ0dnswnvM9sRi"], ["created_at", "2020-05-28 10:06:59.021956"], ["updated_at", "2020-05-28 10:06:59.021956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$pC3sk6TEx57.U60v76vkzO8zbQvNyqn68L1.RpDJfOmQoUC2Vfx/y"], ["created_at", "2020-05-28 10:10:19.622570"], ["updated_at", "2020-05-28 10:10:19.622570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$E1hoOoEk3hP.7b3hwbjSCuLP2rYonSSPTOOHYUXi5F6QCFF..Om1G"], ["created_at", "2020-05-28 10:10:19.636619"], ["updated_at", "2020-05-28 10:10:19.636619"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:10:19.638202"], ["token", "62516a4eae79063addb3631cf0709f68"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "2a727e3a22f071d8d573b5997d0fe185"], ["updated_at", "2020-05-28 10:10:19.672848"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1340)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 273)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "46cf02abf09f0e2f47b140a4634cdf01"], ["updated_at", "2020-05-28 10:10:19.689548"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"46cf02abf09f0e2f47b140a4634cdf01"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "46cf02abf09f0e2f47b140a4634cdf01"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 10:10:19.693312"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$zkdlsB/4Djr4RO/iZLWX7.3jb3Z4J/Hd.btQmZugklc2lIv/VH8ae"], ["created_at", "2020-05-28 10:10:19.701504"], ["updated_at", "2020-05-28 10:10:19.701504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:10:19.710461"], ["updated_at", "2020-05-28 10:10:19.710461"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:10:19.721774"], ["updated_at", "2020-05-28 10:10:19.721774"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:10:19.758200"], ["updated_at", "2020-05-28 10:10:19.758200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:10:19.773732"], ["updated_at", "2020-05-28 10:10:19.773732"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:10:19.805404"], ["updated_at", "2020-05-28 10:10:19.805404"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:10:19.825372"], ["updated_at", "2020-05-28 10:10:19.825372"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:10:19.829987"], ["updated_at", "2020-05-28 10:10:19.829987"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:10:19.835809"], ["updated_at", "2020-05-28 10:10:19.835809"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:10:19.841827"], ["updated_at", "2020-05-28 10:10:19.841827"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:10:19.847873"], ["updated_at", "2020-05-28 10:10:19.847873"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:10:19.855379"], ["updated_at", "2020-05-28 10:10:19.855379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:10:19.857172"], ["updated_at", "2020-05-28 10:10:19.857172"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:10:19.869151"], ["updated_at", "2020-05-28 10:10:19.869151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:10:19.873758"], ["updated_at", "2020-05-28 10:10:19.873758"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:10:19.875046"], ["updated_at", "2020-05-28 10:10:19.875046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:10:19.884965"], ["updated_at", "2020-05-28 10:10:19.884965"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:10:19.886570"], ["updated_at", "2020-05-28 10:10:19.886570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:10:19.893820"], ["updated_at", "2020-05-28 10:10:19.893820"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$C38s/jSnqGjs9ChyzAq1vOapIeOk602IJyk.PQqJLVwjy/FAbwoC2"], ["created_at", "2020-05-28 10:10:19.924222"], ["updated_at", "2020-05-28 10:10:19.924222"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Ypdi1kLmavcKzM5OCkH7J.r4inJwyrOej.ub0so6D1qA/oTpkTs6q"], ["created_at", "2020-05-28 10:10:19.967136"], ["updated_at", "2020-05-28 10:10:19.967136"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$06GPbAqSxuFAg/N5Oe2Av..aA3GbYUq1Y5Q2MIhtKqWtxoWypRfeG"], ["created_at", "2020-05-28 10:12:19.534613"], ["updated_at", "2020-05-28 10:12:19.534613"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$53zzP1dvhgk089ZCc/W.MeDbYgPiKqFYADFityLumlH0yHuPw/i.W"], ["created_at", "2020-05-28 10:12:19.546359"], ["updated_at", "2020-05-28 10:12:19.546359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:12:19.547772"], ["token", "acee1837f85153f8495376e00642b1bb"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "cfefbc722117ffe9e75560311d6204ed"], ["updated_at", "2020-05-28 10:12:19.580627"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "997889906c45b5f4fa63269d8e2f10f2"], ["updated_at", "2020-05-28 10:12:19.595519"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"997889906c45b5f4fa63269d8e2f10f2"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "997889906c45b5f4fa63269d8e2f10f2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 10:12:19.599592"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$tpcDKue72FFQYVaQSfhxJuTPaGe2TSv10.8QHI8iiYdNLV60nuVAq"], ["created_at", "2020-05-28 10:12:19.604814"], ["updated_at", "2020-05-28 10:12:19.604814"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:12:19.613134"], ["updated_at", "2020-05-28 10:12:19.613134"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:12:19.624554"], ["updated_at", "2020-05-28 10:12:19.624554"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:12:19.657231"], ["updated_at", "2020-05-28 10:12:19.657231"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:12:19.671630"], ["updated_at", "2020-05-28 10:12:19.671630"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:12:19.707916"], ["updated_at", "2020-05-28 10:12:19.707916"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:12:19.728361"], ["updated_at", "2020-05-28 10:12:19.728361"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:12:19.731888"], ["updated_at", "2020-05-28 10:12:19.731888"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:12:19.735977"], ["updated_at", "2020-05-28 10:12:19.735977"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:12:19.742763"], ["updated_at", "2020-05-28 10:12:19.742763"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:12:19.751778"], ["updated_at", "2020-05-28 10:12:19.751778"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:12:19.757559"], ["updated_at", "2020-05-28 10:12:19.757559"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:12:19.758924"], ["updated_at", "2020-05-28 10:12:19.758924"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:12:19.769432"], ["updated_at", "2020-05-28 10:12:19.769432"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:12:19.774908"], ["updated_at", "2020-05-28 10:12:19.774908"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:12:19.776651"], ["updated_at", "2020-05-28 10:12:19.776651"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:12:19.784754"], ["updated_at", "2020-05-28 10:12:19.784754"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:12:19.786712"], ["updated_at", "2020-05-28 10:12:19.786712"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:12:19.794358"], ["updated_at", "2020-05-28 10:12:19.794358"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$bZUzWg0DnHk5BDaC5nyJRuDh4a9jwZu1FpfJPkejwsn4eMJbd8GPW"], ["created_at", "2020-05-28 10:12:19.822224"], ["updated_at", "2020-05-28 10:12:19.822224"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$QfrhbttXxisnwSwo.iSZPemB/yl5QQzwsklJL0UmWbnDM5V8/Zo.i"], ["created_at", "2020-05-28 10:12:19.863735"], ["updated_at", "2020-05-28 10:12:19.863735"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$wfmL5cQICijiZuUZ1teGTeKkvJ8j9vJWRtViLcuYbwPqSnsd57bSG"], ["created_at", "2020-05-28 10:19:13.465167"], ["updated_at", "2020-05-28 10:19:13.465167"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$/D/ym6Q9IvVf7XItbO58..5G0a4JGts6KE8kcuoUeTPvYNykGqz8O"], ["created_at", "2020-05-28 10:19:13.478029"], ["updated_at", "2020-05-28 10:19:13.478029"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:19:13.479371"], ["token", "73864f15200daac482fb6d47a4fcee49"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "0f700d8408e1ae726a0b722899482f87"], ["updated_at", "2020-05-28 10:19:13.511638"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "618693e6b1364abf0063f9c9f34b62e7"], ["updated_at", "2020-05-28 10:19:13.525220"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"618693e6b1364abf0063f9c9f34b62e7"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "618693e6b1364abf0063f9c9f34b62e7"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 10:19:13.528215"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$XikLzewpG7n19UF6/gz6Su5ZdDBGk72IZzte6DKcd6R.IV4HUzPo."], ["created_at", "2020-05-28 10:19:13.535497"], ["updated_at", "2020-05-28 10:19:13.535497"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:19:13.545387"], ["updated_at", "2020-05-28 10:19:13.545387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:19:13.556462"], ["updated_at", "2020-05-28 10:19:13.556462"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:19:13.590581"], ["updated_at", "2020-05-28 10:19:13.590581"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:19:13.605846"], ["updated_at", "2020-05-28 10:19:13.605846"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.3ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:19:13.642553"], ["updated_at", "2020-05-28 10:19:13.642553"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.6ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:19:13.661978"], ["updated_at", "2020-05-28 10:19:13.661978"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:19:13.667278"], ["updated_at", "2020-05-28 10:19:13.667278"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:19:13.671658"], ["updated_at", "2020-05-28 10:19:13.671658"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:19:13.679793"], ["updated_at", "2020-05-28 10:19:13.679793"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:19:13.688975"], ["updated_at", "2020-05-28 10:19:13.688975"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.5ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:19:13.696621"], ["updated_at", "2020-05-28 10:19:13.696621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:19:13.699628"], ["updated_at", "2020-05-28 10:19:13.699628"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:19:13.711027"], ["updated_at", "2020-05-28 10:19:13.711027"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:19:13.717462"], ["updated_at", "2020-05-28 10:19:13.717462"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:19:13.719250"], ["updated_at", "2020-05-28 10:19:13.719250"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:19:13.726989"], ["updated_at", "2020-05-28 10:19:13.726989"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:19:13.728775"], ["updated_at", "2020-05-28 10:19:13.728775"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:19:13.739408"], ["updated_at", "2020-05-28 10:19:13.739408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$.4DHoxl8Jq0IT4bOpoAcmu8Cga4XenJhwIO7vjp.Siv/Yehy1xtVm"], ["created_at", "2020-05-28 10:19:13.770274"], ["updated_at", "2020-05-28 10:19:13.770274"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$L.cxtJxonX1EQN2t88gVcOcl.a3h6xFtMUD0agy/S6IgaM.l.pJlS"], ["created_at", "2020-05-28 10:19:13.812929"], ["updated_at", "2020-05-28 10:19:13.812929"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$9damu45I/ZERtk3Vfdp9nuBxHHJFMfABHqI.aTaW36SWfrQ8PXvjy"], ["created_at", "2020-05-28 10:20:01.776025"], ["updated_at", "2020-05-28 10:20:01.776025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$t9A8n34EAXeuR7KQIg/gB.hbdM6XsTm8DnikQy/kJqUbfUWUOQxUS"], ["created_at", "2020-05-28 10:20:01.788304"], ["updated_at", "2020-05-28 10:20:01.788304"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:20:01.790026"], ["token", "2f5e21efbe3fd6f7b2faeb8f3fcc69bb"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "a2d8092a460cf1b100e4d3e4c7faee34"], ["updated_at", "2020-05-28 10:20:01.822983"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "126d29d48d409fee30bf4b10b8f4a7c4"], ["updated_at", "2020-05-28 10:20:01.835594"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"126d29d48d409fee30bf4b10b8f4a7c4"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "126d29d48d409fee30bf4b10b8f4a7c4"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 10:20:01.840805"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$q0JUeRTMTG11O/n/dXqHaem84RjxDtULEXJXoULUwsJMvHRNGUAIC"], ["created_at", "2020-05-28 10:20:01.847560"], ["updated_at", "2020-05-28 10:20:01.847560"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:20:01.858830"], ["updated_at", "2020-05-28 10:20:01.858830"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:01.870521"], ["updated_at", "2020-05-28 10:20:01.870521"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:20:01.910653"], ["updated_at", "2020-05-28 10:20:01.910653"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:20:01.924950"], ["updated_at", "2020-05-28 10:20:01.924950"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:20:01.964716"], ["updated_at", "2020-05-28 10:20:01.964716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:01.984604"], ["updated_at", "2020-05-28 10:20:01.984604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:20:01.987193"], ["updated_at", "2020-05-28 10:20:01.987193"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:01.991211"], ["updated_at", "2020-05-28 10:20:01.991211"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:01.997964"], ["updated_at", "2020-05-28 10:20:01.997964"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:02.005413"], ["updated_at", "2020-05-28 10:20:02.005413"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:20:02.014430"], ["updated_at", "2020-05-28 10:20:02.014430"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:02.016103"], ["updated_at", "2020-05-28 10:20:02.016103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:20:02.026364"], ["updated_at", "2020-05-28 10:20:02.026364"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:20:02.031916"], ["updated_at", "2020-05-28 10:20:02.031916"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:02.034421"], ["updated_at", "2020-05-28 10:20:02.034421"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:20:02.044973"], ["updated_at", "2020-05-28 10:20:02.044973"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:02.046507"], ["updated_at", "2020-05-28 10:20:02.046507"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:20:02.055812"], ["updated_at", "2020-05-28 10:20:02.055812"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$KxANhDWwcbna2EfHh7xbyOPnl0Dc0RhwXpq1pWwg.9MfBEBw.Joqa"], ["created_at", "2020-05-28 10:20:02.085418"], ["updated_at", "2020-05-28 10:20:02.085418"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$8CEmtwEIHv94qYk0Xp.aWuQLeGOVlkbh/0P4lrXQ33cQv/tBfcsti"], ["created_at", "2020-05-28 10:20:02.127983"], ["updated_at", "2020-05-28 10:20:02.127983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$5aqwuXFr53JhdctP/eR37ucz2RxuXT2rpy8e3ajvxHC0vdI0.oc16"], ["created_at", "2020-05-28 10:20:17.509473"], ["updated_at", "2020-05-28 10:20:17.509473"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$STguvR2kr4liGYbdSnHD1e1oqArxWus6Jy1ngVzUCCKmNj0b8W0VC"], ["created_at", "2020-05-28 10:20:17.517598"], ["updated_at", "2020-05-28 10:20:17.517598"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:20:17.518931"], ["token", "f4f40757b2e7d8cd4ca90812daabd464"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "fb8d231051a30248cc9305f4566d4e01"], ["updated_at", "2020-05-28 10:20:17.547596"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1340)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "312720f50c8b6b1929460f30daed96aa"], ["updated_at", "2020-05-28 10:20:17.560667"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"312720f50c8b6b1929460f30daed96aa"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "312720f50c8b6b1929460f30daed96aa"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 10:20:17.564557"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$7A1wcBmnzDZ1mvWaNYQ3H.F06suXfNobqs0Md1K0k/GvEteF4tot."], ["created_at", "2020-05-28 10:20:17.569692"], ["updated_at", "2020-05-28 10:20:17.569692"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:20:17.577466"], ["updated_at", "2020-05-28 10:20:17.577466"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:17.589781"], ["updated_at", "2020-05-28 10:20:17.589781"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:20:17.618804"], ["updated_at", "2020-05-28 10:20:17.618804"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:20:17.632230"], ["updated_at", "2020-05-28 10:20:17.632230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.2ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:20:17.668374"], ["updated_at", "2020-05-28 10:20:17.668374"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:17.690387"], ["updated_at", "2020-05-28 10:20:17.690387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:20:17.693241"], ["updated_at", "2020-05-28 10:20:17.693241"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:17.697158"], ["updated_at", "2020-05-28 10:20:17.697158"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:17.704571"], ["updated_at", "2020-05-28 10:20:17.704571"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:17.712944"], ["updated_at", "2020-05-28 10:20:17.712944"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:20:17.721080"], ["updated_at", "2020-05-28 10:20:17.721080"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:17.723121"], ["updated_at", "2020-05-28 10:20:17.723121"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:20:17.733962"], ["updated_at", "2020-05-28 10:20:17.733962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:20:17.740364"], ["updated_at", "2020-05-28 10:20:17.740364"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:17.741713"], ["updated_at", "2020-05-28 10:20:17.741713"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:20:17.748192"], ["updated_at", "2020-05-28 10:20:17.748192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:20:17.749760"], ["updated_at", "2020-05-28 10:20:17.749760"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:20:17.760336"], ["updated_at", "2020-05-28 10:20:17.760336"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$ac18vVze2lTSehaxv1w5mOR8jZ4cbbvrdMdiIC53FTmR7vEBmawZa"], ["created_at", "2020-05-28 10:20:17.788137"], ["updated_at", "2020-05-28 10:20:17.788137"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$UyAZ0GGuZkvdq1ZHqaoX7.n/IWcxb5syNgYzh.6qG67KTXL0fq7u2"], ["created_at", "2020-05-28 10:20:17.827123"], ["updated_at", "2020-05-28 10:20:17.827123"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$aI2OpMi2r.fBOK.dRClhlOkGSmMGd1MI5Xzg7OtkZumPWWkxOTHne"], ["created_at", "2020-05-28 10:22:11.249308"], ["updated_at", "2020-05-28 10:22:11.249308"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ukHGjWcJuFv5/iL4PS68p.srktquNX5e2tjSbsy4XiPT9y0AtwIV2"], ["created_at", "2020-05-28 10:22:11.256450"], ["updated_at", "2020-05-28 10:22:11.256450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$Hixo7W7SnWkjwJ6yzemwPeu.c8kWdg0PiEvII0tb/5ouwb3/Efxji"], ["created_at", "2020-05-28 10:22:11.267263"], ["updated_at", "2020-05-28 10:22:11.267263"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:22:11.268654"], ["token", "be1ea781b3ec2e831dbca25effea0a82"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1907)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "7bf093df5131f147c8c7e0a6c2e1402f"], ["updated_at", "2020-05-28 10:22:11.299315"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "0887a6e97446d5ffb0927923856ee360"], ["updated_at", "2020-05-28 10:22:11.313247"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"0887a6e97446d5ffb0927923856ee360"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "0887a6e97446d5ffb0927923856ee360"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 10:22:11.317395"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$p.Imvx9y5AU2A7ryi4p1G.4I.n8pEWxqTGWmV7Divwcepa67yneky"], ["created_at", "2020-05-28 10:22:11.322727"], ["updated_at", "2020-05-28 10:22:11.322727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:22:11.332729"], ["updated_at", "2020-05-28 10:22:11.332729"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:22:11.342581"], ["updated_at", "2020-05-28 10:22:11.342581"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:22:11.374697"], ["updated_at", "2020-05-28 10:22:11.374697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.4ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:22:11.389469"], ["updated_at", "2020-05-28 10:22:11.389469"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:22:11.426028"], ["updated_at", "2020-05-28 10:22:11.426028"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:22:11.444525"], ["updated_at", "2020-05-28 10:22:11.444525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:22:11.447330"], ["updated_at", "2020-05-28 10:22:11.447330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:22:11.453297"], ["updated_at", "2020-05-28 10:22:11.453297"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:22:11.459190"], ["updated_at", "2020-05-28 10:22:11.459190"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:22:11.465925"], ["updated_at", "2020-05-28 10:22:11.465925"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:22:11.474666"], ["updated_at", "2020-05-28 10:22:11.474666"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:22:11.476358"], ["updated_at", "2020-05-28 10:22:11.476358"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:22:11.486081"], ["updated_at", "2020-05-28 10:22:11.486081"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:22:11.490163"], ["updated_at", "2020-05-28 10:22:11.490163"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:22:11.492408"], ["updated_at", "2020-05-28 10:22:11.492408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:22:11.500724"], ["updated_at", "2020-05-28 10:22:11.500724"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:22:11.502285"], ["updated_at", "2020-05-28 10:22:11.502285"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:22:11.511655"], ["updated_at", "2020-05-28 10:22:11.511655"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$s7XqLH9r5pzsU7O65nLfmOxcAwbZuPZ248L0YinhreQe.b/2TY5tW"], ["created_at", "2020-05-28 10:22:11.539714"], ["updated_at", "2020-05-28 10:22:11.539714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$IVJouQxY50qZ89aWk615HuW5NS/JeV3HlkRt4fTaUWCq6jqvMqCqO"], ["created_at", "2020-05-28 10:22:11.581317"], ["updated_at", "2020-05-28 10:22:11.581317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.7ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$LPZEETGFaEpV/1je6./pgem29ZQ/9krIOFsWz9n17QxGvrp6pjE26"], ["created_at", "2020-05-28 10:29:28.929352"], ["updated_at", "2020-05-28 10:29:28.929352"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$qULpvg8OMgyGBxOk86RBwuFlCXieGLadL7uWzbH/7vi5cD5TdZTzK"], ["created_at", "2020-05-28 10:29:28.941699"], ["updated_at", "2020-05-28 10:29:28.941699"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:29:28.943414"], ["token", "0ddec5c354b6ef415c72f3a50aa627ed"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "f38d8a14c6d7379dda9cbfa30fe1a676"], ["updated_at", "2020-05-28 10:29:28.974831"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "9b1649cc354c2154d1e64e5c86927d33"], ["updated_at", "2020-05-28 10:29:28.988235"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"9b1649cc354c2154d1e64e5c86927d33"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "9b1649cc354c2154d1e64e5c86927d33"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 10:29:28.993574"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1104)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$EhuxjhuO2zHtohuv3woJI.wBtfw2hrCeKpsAPp6cPvzugwCY9CNZK"], ["created_at", "2020-05-28 10:29:28.997376"], ["updated_at", "2020-05-28 10:29:28.997376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:29:29.007228"], ["updated_at", "2020-05-28 10:29:29.007228"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:29:29.017474"], ["updated_at", "2020-05-28 10:29:29.017474"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:29:29.052129"], ["updated_at", "2020-05-28 10:29:29.052129"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:29:29.067511"], ["updated_at", "2020-05-28 10:29:29.067511"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:29:29.101331"], ["updated_at", "2020-05-28 10:29:29.101331"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.6ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:29:29.120212"], ["updated_at", "2020-05-28 10:29:29.120212"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:29:29.124024"], ["updated_at", "2020-05-28 10:29:29.124024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:29:29.128183"], ["updated_at", "2020-05-28 10:29:29.128183"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:29:29.134764"], ["updated_at", "2020-05-28 10:29:29.134764"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:29:29.142039"], ["updated_at", "2020-05-28 10:29:29.142039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:29:29.148860"], ["updated_at", "2020-05-28 10:29:29.148860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:29:29.150511"], ["updated_at", "2020-05-28 10:29:29.150511"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:29:29.161576"], ["updated_at", "2020-05-28 10:29:29.161576"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:29:29.166043"], ["updated_at", "2020-05-28 10:29:29.166043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:29:29.167262"], ["updated_at", "2020-05-28 10:29:29.167262"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:29:29.176762"], ["updated_at", "2020-05-28 10:29:29.176762"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:29:29.178615"], ["updated_at", "2020-05-28 10:29:29.178615"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.5ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:29:29.187371"], ["updated_at", "2020-05-28 10:29:29.187371"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$CRciys1e5yWr57wgFQYKWOCae7mq8HNIEOrmZlRUCYJffZHDi6xB."], ["created_at", "2020-05-28 10:29:29.215499"], ["updated_at", "2020-05-28 10:29:29.215499"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$.6AwxL3ZdPtQRfcvqgXQZ.93BRCulf.B7XUVM26NaEpapZNwtiX.e"], ["created_at", "2020-05-28 10:29:29.256917"], ["updated_at", "2020-05-28 10:29:29.256917"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$h.Z1Mrl5SVpDyUJvcWp1bOQJ4VMyDwna/a2jSBj3ynJTkfjzl8CB."], ["created_at", "2020-05-28 10:31:28.905422"], ["updated_at", "2020-05-28 10:31:28.905422"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$TuMKx/4WxkQ74OoA075nF.61T3GyT1kvxMWklieUsHsCRYFzzEAPS"], ["created_at", "2020-05-28 10:31:28.915108"], ["updated_at", "2020-05-28 10:31:28.915108"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 10:31:28.916748"], ["token", "9afdc580e3130a6a4a2f78f505e0a32d"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "771601d9a17a50fdfc22759377c7a34b"], ["updated_at", "2020-05-28 10:31:28.946707"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "52beaff1a9279546740605511fb7dc73"], ["updated_at", "2020-05-28 10:31:28.966452"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"52beaff1a9279546740605511fb7dc73"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "52beaff1a9279546740605511fb7dc73"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 10:31:28.970588"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$LCwkyxdpqctNjK7KhfeEg.SnoUmSn9x5hmre/YE/3JgGxWGeIH1zS"], ["created_at", "2020-05-28 10:31:28.976799"], ["updated_at", "2020-05-28 10:31:28.976799"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:31:28.991623"], ["updated_at", "2020-05-28 10:31:28.991623"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:31:29.008718"], ["updated_at", "2020-05-28 10:31:29.008718"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:31:29.039592"], ["updated_at", "2020-05-28 10:31:29.039592"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 10:31:29.054104"], ["updated_at", "2020-05-28 10:31:29.054104"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 10:31:29.092928"], ["updated_at", "2020-05-28 10:31:29.092928"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.5ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:31:29.119222"], ["updated_at", "2020-05-28 10:31:29.119222"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 10:31:29.123315"], ["updated_at", "2020-05-28 10:31:29.123315"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:31:29.128570"], ["updated_at", "2020-05-28 10:31:29.128570"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:31:29.138033"], ["updated_at", "2020-05-28 10:31:29.138033"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:31:29.147071"], ["updated_at", "2020-05-28 10:31:29.147071"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:31:29.160800"], ["updated_at", "2020-05-28 10:31:29.160800"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:31:29.162845"], ["updated_at", "2020-05-28 10:31:29.162845"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 10:31:29.175522"], ["updated_at", "2020-05-28 10:31:29.175522"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:31:29.182111"], ["updated_at", "2020-05-28 10:31:29.182111"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:31:29.183791"], ["updated_at", "2020-05-28 10:31:29.183791"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 10:31:29.191991"], ["updated_at", "2020-05-28 10:31:29.191991"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 10:31:29.193992"], ["updated_at", "2020-05-28 10:31:29.193992"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.8ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 10:31:29.205210"], ["updated_at", "2020-05-28 10:31:29.205210"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$ORPQs.i/OrFhNuxS7bllIeL4ByoVuIL0imZERZq6z3akelmQRJNDm"], ["created_at", "2020-05-28 10:31:29.239645"], ["updated_at", "2020-05-28 10:31:29.239645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$bxrxzyx5ux7SyCrbHoi95efmh8qVqnBAqgXGAQeN2o.0FKBwWoiGG"], ["created_at", "2020-05-28 10:31:29.292504"], ["updated_at", "2020-05-28 10:31:29.292504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$TMQ/WhfoTWWbNtyT1QwjNunjK9Da9ASSmSld7A2Yey5q4JySkoCee"], ["created_at", "2020-05-28 13:13:52.242959"], ["updated_at", "2020-05-28 13:13:52.242959"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$kwjzD3tjGf9dcxwFJRcUjOLZEVMh1Tmbw/QDCSY4fNO0vJEsNI2uq"], ["created_at", "2020-05-28 13:13:52.256431"], ["updated_at", "2020-05-28 13:13:52.256431"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 13:13:52.258456"], ["token", "743cef02632609e885a5b8cfded7701b"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "edd55eecfcd8d4c8d8e3c0796af2efc4"], ["updated_at", "2020-05-28 13:13:52.289977"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "aa44afcbea121ae84bcc2e923d01dd0d"], ["updated_at", "2020-05-28 13:13:52.303579"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"aa44afcbea121ae84bcc2e923d01dd0d"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "aa44afcbea121ae84bcc2e923d01dd0d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 13:13:52.306228"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Oh9v.87v0i0V/43meaLDdeu6eBOv9fN3MXp99XLIz.jfG00AxAVSq"], ["created_at", "2020-05-28 13:13:52.311183"], ["updated_at", "2020-05-28 13:13:52.311183"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 13:13:52.320754"], ["updated_at", "2020-05-28 13:13:52.320754"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:13:52.332008"], ["updated_at", "2020-05-28 13:13:52.332008"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 13:13:52.364838"], ["updated_at", "2020-05-28 13:13:52.364838"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 13:13:52.379027"], ["updated_at", "2020-05-28 13:13:52.379027"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.4ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.2ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 13:13:52.414694"], ["updated_at", "2020-05-28 13:13:52.414694"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:13:52.433121"], ["updated_at", "2020-05-28 13:13:52.433121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.3ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 13:13:52.435695"], ["updated_at", "2020-05-28 13:13:52.435695"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:13:52.440887"], ["updated_at", "2020-05-28 13:13:52.440887"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:13:52.448375"], ["updated_at", "2020-05-28 13:13:52.448375"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:13:52.454110"], ["updated_at", "2020-05-28 13:13:52.454110"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 13:13:52.461269"], ["updated_at", "2020-05-28 13:13:52.461269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:13:52.463092"], ["updated_at", "2020-05-28 13:13:52.463092"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 13:13:52.473976"], ["updated_at", "2020-05-28 13:13:52.473976"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 13:13:52.478220"], ["updated_at", "2020-05-28 13:13:52.478220"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:13:52.479798"], ["updated_at", "2020-05-28 13:13:52.479798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 13:13:52.486947"], ["updated_at", "2020-05-28 13:13:52.486947"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:13:52.488813"], ["updated_at", "2020-05-28 13:13:52.488813"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 13:13:52.497406"], ["updated_at", "2020-05-28 13:13:52.497406"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$A2uYicG.8wg7X1GGA5CqNeKa7x5kC7BDJNfhZkJttxjH6bOJ2Oe7W"], ["created_at", "2020-05-28 13:13:52.525447"], ["updated_at", "2020-05-28 13:13:52.525447"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$MiuXVzqpJxgFBRGaTDMbmuJqKLeZ/wJjijTyNPTVxadUEM8HDLboO"], ["created_at", "2020-05-28 13:13:52.566962"], ["updated_at", "2020-05-28 13:13:52.566962"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$b90S/0G3nrqA0dRHRWldZ.fSFkiTnSuY9OlSIwgAoJ8OL0GpJRvsi"], ["created_at", "2020-05-28 13:16:22.553631"], ["updated_at", "2020-05-28 13:16:22.553631"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$Y2zZDJ.BrUYzd9m/kZteUuyu1EBdi.Bj.ITtos3mtHy0OSZXxBrHa"], ["created_at", "2020-05-28 13:16:22.561681"], ["updated_at", "2020-05-28 13:16:22.561681"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-05-28 13:16:22.562955"], ["token", "1aaff0283a3bf93b9596346e8c5ffd3c"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "3d21d641720ee1bc4548512a1220458d"], ["updated_at", "2020-05-28 13:16:22.589005"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1340)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "915f7c215b68e798a86e500c1ba81145"], ["updated_at", "2020-05-28 13:16:22.601408"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"915f7c215b68e798a86e500c1ba81145"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "915f7c215b68e798a86e500c1ba81145"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-05-28 13:16:22.606257"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1104)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$DB3oS6sWovr2XkcaIHYyk.WnMxj9zFlIOduNLlS8WROTdq3/6pcOO"], ["created_at", "2020-05-28 13:16:22.611511"], ["updated_at", "2020-05-28 13:16:22.611511"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 13:16:22.618955"], ["updated_at", "2020-05-28 13:16:22.618955"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:16:22.629286"], ["updated_at", "2020-05-28 13:16:22.629286"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 13:16:22.657640"], ["updated_at", "2020-05-28 13:16:22.657640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-05-28 13:16:22.675280"], ["updated_at", "2020-05-28 13:16:22.675280"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-05-28 13:16:22.706985"], ["updated_at", "2020-05-28 13:16:22.706985"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:16:22.727088"], ["updated_at", "2020-05-28 13:16:22.727088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-05-28 13:16:22.730093"], ["updated_at", "2020-05-28 13:16:22.730093"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:16:22.733879"], ["updated_at", "2020-05-28 13:16:22.733879"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:16:22.740640"], ["updated_at", "2020-05-28 13:16:22.740640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:16:22.747665"], ["updated_at", "2020-05-28 13:16:22.747665"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 13:16:22.755004"], ["updated_at", "2020-05-28 13:16:22.755004"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:16:22.756733"], ["updated_at", "2020-05-28 13:16:22.756733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.3ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-05-28 13:16:22.766861"], ["updated_at", "2020-05-28 13:16:22.766861"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 13:16:22.771881"], ["updated_at", "2020-05-28 13:16:22.771881"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:16:22.773263"], ["updated_at", "2020-05-28 13:16:22.773263"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-05-28 13:16:22.780509"], ["updated_at", "2020-05-28 13:16:22.780509"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-05-28 13:16:22.782209"], ["updated_at", "2020-05-28 13:16:22.782209"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-05-28 13:16:22.791075"], ["updated_at", "2020-05-28 13:16:22.791075"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$KJogxLlAb5NDKxB7EuHC.uBKamLU3KvHHrlP0xHImrnh7.4fIf0O."], ["created_at", "2020-05-28 13:16:22.819335"], ["updated_at", "2020-05-28 13:16:22.819335"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$WNYMSvqaEzqTHLoBLPLPi.HWQ/lrQRtZU69sI7lfckSgj0.RhZZ0W"], ["created_at", "2020-05-28 13:16:22.863739"], ["updated_at", "2020-05-28 13:16:22.863739"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "body_treatment_id" integer, "studio_id" integer, "duration_id" integer, "date" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "body_treatments"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "body_treatments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "category" varchar, "description" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "durations"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "durations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "body_treatment_id" integer, "duration" integer, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "locations"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "locations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "body_treatment_id" integer, "studio_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "studios"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "studios" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "city" varchar, "address" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "token" varchar)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200525013540)[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200522000635),
(20200523021651),
(20200523053549),
(20200523093014),
(20200523094432),
(20200523094529),
(20200524004945),
(20200524011445);

[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-06-03 14:30:57.169017"], ["updated_at", "2020-06-03 14:30:57.169017"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "13614d622b20056b032e0cf8892563f52eeaad11"], ["created_at", "2020-06-03 14:30:57.172773"], ["updated_at", "2020-06-03 14:30:57.172773"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$DD1z6mQ0YuwruxGjzV3GsOUqUUBhXiRAkNWnv5kRV36uM31kuEwGe"], ["created_at", "2020-06-03 14:30:57.345260"], ["updated_at", "2020-06-03 14:30:57.345260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$c/5zriNiF5tN0P3YjNKA..S5L.FgsaW6Gmq5yfpHA8Dr1htW3Acpm"], ["created_at", "2020-06-03 14:30:57.359679"], ["updated_at", "2020-06-03 14:30:57.359679"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:30:57.361260"], ["token", "ab423ed3f9f5a9afc57aa26d0a7bb63b"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "f13a8cc77637fd05664361ddcc9c7869"], ["updated_at", "2020-06-03 14:30:57.392992"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "fa1f2a7e46dca4a281566a2e1103b7af"], ["updated_at", "2020-06-03 14:30:57.404751"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"fa1f2a7e46dca4a281566a2e1103b7af"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "fa1f2a7e46dca4a281566a2e1103b7af"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:30:57.408036"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1104)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$IjLjRsr4iZN0UTRuyx8Yhe7ydCaM6uvpNXqrkBec.mhTUcROmvsOK"], ["created_at", "2020-06-03 14:30:57.413706"], ["updated_at", "2020-06-03 14:30:57.413706"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:30:57.422631"], ["updated_at", "2020-06-03 14:30:57.422631"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:30:57.433239"], ["updated_at", "2020-06-03 14:30:57.433239"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:30:57.468900"], ["updated_at", "2020-06-03 14:30:57.468900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:30:57.487437"], ["updated_at", "2020-06-03 14:30:57.487437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:30:57.517796"], ["updated_at", "2020-06-03 14:30:57.517796"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:30:57.537218"], ["updated_at", "2020-06-03 14:30:57.537218"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:30:57.539425"], ["updated_at", "2020-06-03 14:30:57.539425"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:30:57.544588"], ["updated_at", "2020-06-03 14:30:57.544588"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:30:57.552309"], ["updated_at", "2020-06-03 14:30:57.552309"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:30:57.557892"], ["updated_at", "2020-06-03 14:30:57.557892"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:30:57.565667"], ["updated_at", "2020-06-03 14:30:57.565667"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:30:57.567779"], ["updated_at", "2020-06-03 14:30:57.567779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:30:57.577695"], ["updated_at", "2020-06-03 14:30:57.577695"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:30:57.582011"], ["updated_at", "2020-06-03 14:30:57.582011"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:30:57.584352"], ["updated_at", "2020-06-03 14:30:57.584352"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:30:57.592445"], ["updated_at", "2020-06-03 14:30:57.592445"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:30:57.593828"], ["updated_at", "2020-06-03 14:30:57.593828"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.5ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:30:57.601790"], ["updated_at", "2020-06-03 14:30:57.601790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$oyS7m0wfO/y97jmEaky.NepnAipd0HX3cjqKTY3xaKZQXbfxnlzcq"], ["created_at", "2020-06-03 14:30:57.629662"], ["updated_at", "2020-06-03 14:30:57.629662"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$TN6T2IZuY/aRgYEK/TOxtufn.1fYDdz1Ci1UU2LXnnj9Z3nU.Djl."], ["created_at", "2020-06-03 14:30:57.666456"], ["updated_at", "2020-06-03 14:30:57.666456"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$xwnlG2ILn/4I9/9aOZ3n2esK2j0MSFX87rVtsVurThztPaJi.dzZC"], ["created_at", "2020-06-03 14:32:58.871112"], ["updated_at", "2020-06-03 14:32:58.871112"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$8tKsihX8T7WNnpxb2/Lp/uWm8Ck7u81loT24.X3OaTDUq8UJdmcDC"], ["created_at", "2020-06-03 14:32:58.900805"], ["updated_at", "2020-06-03 14:32:58.900805"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:32:58.902114"], ["token", "3fb8eb9ccad3ea3a85f9ab7354fcd4fc"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "1aa117cdd0fdfc563842921cc58a8664"], ["updated_at", "2020-06-03 14:32:58.931739"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1340)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "6f77b443b0d7ab0043c5ad2ebf9e0281"], ["updated_at", "2020-06-03 14:32:58.943027"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"6f77b443b0d7ab0043c5ad2ebf9e0281"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "6f77b443b0d7ab0043c5ad2ebf9e0281"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:32:58.945796"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1104)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$MCbLHhY8fabuyf./QGK7NelugRxLbvkYvV3k.WsrkVBl1IPFpXvXq"], ["created_at", "2020-06-03 14:32:58.949548"], ["updated_at", "2020-06-03 14:32:58.949548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:32:58.958855"], ["updated_at", "2020-06-03 14:32:58.958855"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:32:58.967106"], ["updated_at", "2020-06-03 14:32:58.967106"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:32:58.980832"], ["updated_at", "2020-06-03 14:32:58.980832"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.3ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:32:58.996403"], ["updated_at", "2020-06-03 14:32:58.996403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:32:59.027929"], ["updated_at", "2020-06-03 14:32:59.027929"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:32:59.045744"], ["updated_at", "2020-06-03 14:32:59.045744"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:32:59.048410"], ["updated_at", "2020-06-03 14:32:59.048410"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:32:59.051762"], ["updated_at", "2020-06-03 14:32:59.051762"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:32:59.059588"], ["updated_at", "2020-06-03 14:32:59.059588"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:32:59.065542"], ["updated_at", "2020-06-03 14:32:59.065542"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:32:59.072287"], ["updated_at", "2020-06-03 14:32:59.072287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:32:59.073746"], ["updated_at", "2020-06-03 14:32:59.073746"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:32:59.084458"], ["updated_at", "2020-06-03 14:32:59.084458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:32:59.088605"], ["updated_at", "2020-06-03 14:32:59.088605"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:32:59.089863"], ["updated_at", "2020-06-03 14:32:59.089863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:32:59.095508"], ["updated_at", "2020-06-03 14:32:59.095508"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:32:59.096733"], ["updated_at", "2020-06-03 14:32:59.096733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:32:59.108209"], ["updated_at", "2020-06-03 14:32:59.108209"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$4LkU3p/ooErJrXKbqOII2.73hP2wMzaXFcz5Rpkel9vcmrzAE8yZ2"], ["created_at", "2020-06-03 14:32:59.155010"], ["updated_at", "2020-06-03 14:32:59.155010"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$w8ELWpVQMUt7Qn3MjELabuMB67rw.iJVWHKMCRjXSbYcOZjGoCY1m"], ["created_at", "2020-06-03 14:32:59.195444"], ["updated_at", "2020-06-03 14:32:59.195444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$CI0KEEBxtXNLQ/RH5LUNDuw7V2Hn7WEQbAPd3Sww8MZdfPqNJZLFu"], ["created_at", "2020-06-03 14:33:13.136351"], ["updated_at", "2020-06-03 14:33:13.136351"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$7Go9Q8b.vKuGgIvn99UxJ.TTOpWcgC4lU2B.NwkHJDiSCR1UYIFSK"], ["created_at", "2020-06-03 14:33:13.146430"], ["updated_at", "2020-06-03 14:33:13.146430"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$Jst8hE6Qli.FkORwcOVzRuQQYGOWeMXsLFukB5NivINaVtd2uHKI2"], ["created_at", "2020-06-03 14:33:13.156935"], ["updated_at", "2020-06-03 14:33:13.156935"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:33:13.158283"], ["token", "8fe5394f955bcc7a16d58f38b1623bd7"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1903)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1124)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "b6675ec27fe7c4384805ebf59e8637ac"], ["updated_at", "2020-06-03 14:33:13.191562"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "b0f34d73ee3755e033ed3478e958ed5a"], ["updated_at", "2020-06-03 14:33:13.204804"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"b0f34d73ee3755e033ed3478e958ed5a"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "b0f34d73ee3755e033ed3478e958ed5a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:33:13.207562"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1104)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$3Ii0ShUyPbTOH8POgtUGHuKZmhHb7KgLKNapK777Cw3z.zkdmQJJG"], ["created_at", "2020-06-03 14:33:13.211866"], ["updated_at", "2020-06-03 14:33:13.211866"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:13.220343"], ["updated_at", "2020-06-03 14:33:13.220343"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:13.230269"], ["updated_at", "2020-06-03 14:33:13.230269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:33:13.264761"], ["updated_at", "2020-06-03 14:33:13.264761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:33:13.281022"], ["updated_at", "2020-06-03 14:33:13.281022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:33:13.312937"], ["updated_at", "2020-06-03 14:33:13.312937"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:13.331039"], ["updated_at", "2020-06-03 14:33:13.331039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.4ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:33:13.334503"], ["updated_at", "2020-06-03 14:33:13.334503"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:13.340229"], ["updated_at", "2020-06-03 14:33:13.340229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:13.346382"], ["updated_at", "2020-06-03 14:33:13.346382"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:13.351736"], ["updated_at", "2020-06-03 14:33:13.351736"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:13.359349"], ["updated_at", "2020-06-03 14:33:13.359349"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:13.361375"], ["updated_at", "2020-06-03 14:33:13.361375"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:33:13.370079"], ["updated_at", "2020-06-03 14:33:13.370079"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:13.373630"], ["updated_at", "2020-06-03 14:33:13.373630"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:13.375024"], ["updated_at", "2020-06-03 14:33:13.375024"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:13.384988"], ["updated_at", "2020-06-03 14:33:13.384988"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:13.386453"], ["updated_at", "2020-06-03 14:33:13.386453"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:33:13.394843"], ["updated_at", "2020-06-03 14:33:13.394843"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$hoxA8jb6nxxiWwWEH04oOO4xqxshDpnYKaOPChI7EZUvFsQt.eenW"], ["created_at", "2020-06-03 14:33:13.425396"], ["updated_at", "2020-06-03 14:33:13.425396"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$vDRgAwREv4w2BNpYzUM.x.YF.qRDEkRLR49gi8DxTTe.kKOv0GYHq"], ["created_at", "2020-06-03 14:33:13.466323"], ["updated_at", "2020-06-03 14:33:13.466323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$SODqveUDlxI7K0yov7D2puv7W.XccBhLkp3cuphBy/mmvEmcwO4Aq"], ["created_at", "2020-06-03 14:33:41.488934"], ["updated_at", "2020-06-03 14:33:41.488934"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 465)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$5qELb1GzUcuC07EvyfPdUO8zNFbc8x6DiYXUeLmL0rBlTYSR0LKRu"], ["created_at", "2020-06-03 14:33:41.516159"], ["updated_at", "2020-06-03 14:33:41.516159"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$yXZokdGQ0qQZ7LUSgcfvjen79c20wL8TegDlwOIcYjZPTMYkPaSC."], ["created_at", "2020-06-03 14:33:41.525292"], ["updated_at", "2020-06-03 14:33:41.525292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:33:41.526805"], ["token", "d4eb820ecebdb4f865da0ed03ea48675"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1853)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2207)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "63d375962b5bac7760162df6042e9e18"], ["updated_at", "2020-06-03 14:33:41.550261"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1326)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "a04aff749b76990424234fc2416507ea"], ["updated_at", "2020-06-03 14:33:41.560321"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"a04aff749b76990424234fc2416507ea"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "a04aff749b76990424234fc2416507ea"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:33:41.563312"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$.9JtxCLCas6nLuAU1ZgU9ujL7Uh/XKqa1GIX7Id.YTzQ5y9KqftKO"], ["created_at", "2020-06-03 14:33:41.569516"], ["updated_at", "2020-06-03 14:33:41.569516"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:41.578338"], ["updated_at", "2020-06-03 14:33:41.578338"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:41.605711"], ["updated_at", "2020-06-03 14:33:41.605711"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:33:41.615581"], ["updated_at", "2020-06-03 14:33:41.615581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:33:41.629137"], ["updated_at", "2020-06-03 14:33:41.629137"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:33:41.659809"], ["updated_at", "2020-06-03 14:33:41.659809"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:41.678864"], ["updated_at", "2020-06-03 14:33:41.678864"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:33:41.681569"], ["updated_at", "2020-06-03 14:33:41.681569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:41.685077"], ["updated_at", "2020-06-03 14:33:41.685077"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:41.690705"], ["updated_at", "2020-06-03 14:33:41.690705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:41.696268"], ["updated_at", "2020-06-03 14:33:41.696268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:41.705610"], ["updated_at", "2020-06-03 14:33:41.705610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:41.707124"], ["updated_at", "2020-06-03 14:33:41.707124"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:33:41.715373"], ["updated_at", "2020-06-03 14:33:41.715373"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:41.718863"], ["updated_at", "2020-06-03 14:33:41.718863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:41.720090"], ["updated_at", "2020-06-03 14:33:41.720090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:41.725972"], ["updated_at", "2020-06-03 14:33:41.725972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:41.727910"], ["updated_at", "2020-06-03 14:33:41.727910"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:33:41.741076"], ["updated_at", "2020-06-03 14:33:41.741076"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$X1GxugEknPOC44G/bnUciu9nh.c4e0QxzgZsq.J17GRlkPlsXmU0W"], ["created_at", "2020-06-03 14:33:41.763974"], ["updated_at", "2020-06-03 14:33:41.763974"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$7hqzLLNOdVRQ8Ystjr9dC.ejIE/WFSHkcMe38y4tc1GTPkorCUV6u"], ["created_at", "2020-06-03 14:33:41.805721"], ["updated_at", "2020-06-03 14:33:41.805721"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$c4TfVyG25G1jSI9JKBNWyuRgkSlR04cJ1ZxE8lzYB5PmEk6adBbum"], ["created_at", "2020-06-03 14:33:56.685384"], ["updated_at", "2020-06-03 14:33:56.685384"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$VCpK2DnIvd28nAWGrR2sHuxdC0GsQ26O3E2qQ5tKWpQIkH7yqc4UO"], ["created_at", "2020-06-03 14:33:56.695058"], ["updated_at", "2020-06-03 14:33:56.695058"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:33:56.696713"], ["token", "bff2345d3f1e3bba0788aeb32058c251"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1908)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "f51f1044328ce1b3f947d091feddf33e"], ["updated_at", "2020-06-03 14:33:56.718937"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1340)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "0968ad7e19a73b3d3a9ec0ae913a50f2"], ["updated_at", "2020-06-03 14:33:56.731027"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"0968ad7e19a73b3d3a9ec0ae913a50f2"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "0968ad7e19a73b3d3a9ec0ae913a50f2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:33:56.733896"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$iw8gobsbCx0z3YDsxjE2X.2vOtmMLFY8TV80pDrURMRpRUiQfQRV2"], ["created_at", "2020-06-03 14:33:56.738932"], ["updated_at", "2020-06-03 14:33:56.738932"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:56.745591"], ["updated_at", "2020-06-03 14:33:56.745591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:56.756211"], ["updated_at", "2020-06-03 14:33:56.756211"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:33:56.785686"], ["updated_at", "2020-06-03 14:33:56.785686"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:33:56.799325"], ["updated_at", "2020-06-03 14:33:56.799325"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:33:56.830899"], ["updated_at", "2020-06-03 14:33:56.830899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:56.846551"], ["updated_at", "2020-06-03 14:33:56.846551"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:33:56.849848"], ["updated_at", "2020-06-03 14:33:56.849848"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:56.856070"], ["updated_at", "2020-06-03 14:33:56.856070"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:56.862255"], ["updated_at", "2020-06-03 14:33:56.862255"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:56.867557"], ["updated_at", "2020-06-03 14:33:56.867557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:56.873470"], ["updated_at", "2020-06-03 14:33:56.873470"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:56.874934"], ["updated_at", "2020-06-03 14:33:56.874934"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:33:56.883794"], ["updated_at", "2020-06-03 14:33:56.883794"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:56.889614"], ["updated_at", "2020-06-03 14:33:56.889614"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:56.891118"], ["updated_at", "2020-06-03 14:33:56.891118"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:33:56.897055"], ["updated_at", "2020-06-03 14:33:56.897055"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:33:56.898322"], ["updated_at", "2020-06-03 14:33:56.898322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:33:56.905885"], ["updated_at", "2020-06-03 14:33:56.905885"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$tDbJw03aool249zEVCd59eJccTyacUT6knowiRbEfRu35IBvxwCry"], ["created_at", "2020-06-03 14:33:56.930354"], ["updated_at", "2020-06-03 14:33:56.930354"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$wfA/kh.JPIYTuxR7/vDWoO0jybQSXpTdq1Vsd4E4oTYvXNZndWtaa"], ["created_at", "2020-06-03 14:33:56.967196"], ["updated_at", "2020-06-03 14:33:56.967196"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$yoXXmjCXUKwJ6.pvoDklqe.rl/.gP028qTQLYowoP0IEapymg6SpW"], ["created_at", "2020-06-03 14:34:14.197456"], ["updated_at", "2020-06-03 14:34:14.197456"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$a5qfMI8TnKR6EiIug5Q08..i.hCUexynVp0adzKrzQf7UIVY8G65W"], ["created_at", "2020-06-03 14:34:14.206024"], ["updated_at", "2020-06-03 14:34:14.206024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:34:14.207360"], ["token", "2350258b7cf6fb46a9f6b37f49802e05"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1908)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "44644b159d7087a77da957be699dd260"], ["updated_at", "2020-06-03 14:34:14.231109"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1340)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "411ce010de2d41e496091e00a5c76972"], ["updated_at", "2020-06-03 14:34:14.244439"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"411ce010de2d41e496091e00a5c76972"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "411ce010de2d41e496091e00a5c76972"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:34:14.249285"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$w5DUO5SRrMWQjLNtcahoie/zMyVSbyKdzQIY3/OBftzbxIMVzOU.u"], ["created_at", "2020-06-03 14:34:14.255075"], ["updated_at", "2020-06-03 14:34:14.255075"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:34:14.262711"], ["updated_at", "2020-06-03 14:34:14.262711"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:14.271131"], ["updated_at", "2020-06-03 14:34:14.271131"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:34:14.299108"], ["updated_at", "2020-06-03 14:34:14.299108"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:34:14.313106"], ["updated_at", "2020-06-03 14:34:14.313106"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:34:14.348189"], ["updated_at", "2020-06-03 14:34:14.348189"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:14.364755"], ["updated_at", "2020-06-03 14:34:14.364755"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:34:14.367114"], ["updated_at", "2020-06-03 14:34:14.367114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:14.370874"], ["updated_at", "2020-06-03 14:34:14.370874"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:14.378278"], ["updated_at", "2020-06-03 14:34:14.378278"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:14.384520"], ["updated_at", "2020-06-03 14:34:14.384520"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:34:14.390618"], ["updated_at", "2020-06-03 14:34:14.390618"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:14.392075"], ["updated_at", "2020-06-03 14:34:14.392075"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:34:14.401860"], ["updated_at", "2020-06-03 14:34:14.401860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:34:14.405866"], ["updated_at", "2020-06-03 14:34:14.405866"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:14.407205"], ["updated_at", "2020-06-03 14:34:14.407205"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:34:14.412909"], ["updated_at", "2020-06-03 14:34:14.412909"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:14.414835"], ["updated_at", "2020-06-03 14:34:14.414835"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:34:14.424921"], ["updated_at", "2020-06-03 14:34:14.424921"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$BYFlYTHyfWXeWXuy7hqN/eQjcBQqJ2aavcrtLUqB8pwyeczPC33oC"], ["created_at", "2020-06-03 14:34:14.450460"], ["updated_at", "2020-06-03 14:34:14.450460"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$domLlGKZGKJFfStPEeDuIuABdReAmFmy8uZSN105HO9vBGivhREjm"], ["created_at", "2020-06-03 14:34:14.492693"], ["updated_at", "2020-06-03 14:34:14.492693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "James"], ["lastname", "Doe"], ["email", "james.doe@gmail.com"], ["password_digest", "$2a$04$VMvDsInL/mKE5ByWhtRUNuq7DTg9wem3F.QFLi9PRyLFu4vhX78OW"], ["created_at", "2020-06-03 14:34:39.422093"], ["updated_at", "2020-06-03 14:34:39.422093"], ["token", "b2ab4b839b09f8ef4c637336b28326eb"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$Z4i1Hs3h6h/4E1UYn5avzeKS.WIeFAK14/0X2uWpfaKLQNafDkS2G"], ["created_at", "2020-06-03 14:34:39.431061"], ["updated_at", "2020-06-03 14:34:39.431061"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:34:39.432591"], ["token", "58d8eb952d74ae2814f67a155932c1ca"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1904)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"james.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "48686aa182ccea961c6e9256fd855e9e"], ["updated_at", "2020-06-03 14:34:39.455538"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1344)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"james.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "4e3f1138246081dd775c60c708981135"], ["updated_at", "2020-06-03 14:34:39.466795"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1144)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"4e3f1138246081dd775c60c708981135"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "4e3f1138246081dd775c60c708981135"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:34:39.470234"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1104)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "James"], ["lastname", "Doe"], ["email", "james.doe@gmail.com"], ["password_digest", "$2a$04$1cDa20wd7HgUtqyziQk3Hu2aS7MdR/2snee8nQJ/BnIUW2i4HpcsW"], ["created_at", "2020-06-03 14:34:39.475009"], ["updated_at", "2020-06-03 14:34:39.475009"], ["token", "54c840067c69efc6eb78427fe79d74b5"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:34:39.483243"], ["updated_at", "2020-06-03 14:34:39.483243"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:39.492685"], ["updated_at", "2020-06-03 14:34:39.492685"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:34:39.519198"], ["updated_at", "2020-06-03 14:34:39.519198"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:34:39.533145"], ["updated_at", "2020-06-03 14:34:39.533145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:34:39.562154"], ["updated_at", "2020-06-03 14:34:39.562154"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:39.579564"], ["updated_at", "2020-06-03 14:34:39.579564"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:34:39.583204"], ["updated_at", "2020-06-03 14:34:39.583204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:39.587719"], ["updated_at", "2020-06-03 14:34:39.587719"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:39.594059"], ["updated_at", "2020-06-03 14:34:39.594059"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:39.599177"], ["updated_at", "2020-06-03 14:34:39.599177"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:34:39.605357"], ["updated_at", "2020-06-03 14:34:39.605357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:39.606934"], ["updated_at", "2020-06-03 14:34:39.606934"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:34:39.617305"], ["updated_at", "2020-06-03 14:34:39.617305"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:34:39.620935"], ["updated_at", "2020-06-03 14:34:39.620935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:39.622490"], ["updated_at", "2020-06-03 14:34:39.622490"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:34:39.628138"], ["updated_at", "2020-06-03 14:34:39.628138"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:34:39.629470"], ["updated_at", "2020-06-03 14:34:39.629470"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:34:39.635992"], ["updated_at", "2020-06-03 14:34:39.635992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$a1E79cUhvLE8wDcWlzsmNes2D7VZLRgNK0zZru95BFdSDhx43.59e"], ["created_at", "2020-06-03 14:34:39.662332"], ["updated_at", "2020-06-03 14:34:39.662332"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "James"], ["lastname", "Doe"], ["email", "james.doe@gmail.com"], ["password_digest", "$2a$04$0A0vfXE9QgN.KdOSnLEIsuPnqfBjHpNr/blE2LaJ/lkhCl3URc9Sm"], ["created_at", "2020-06-03 14:34:39.698946"], ["updated_at", "2020-06-03 14:34:39.698946"], ["token", "26c7ee7aace53fd241eb3d781e0546d1"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$G35hb0mMzFZEqHCs0Gfy8uFcDUAY6FdDDBPEQw97NmRmzvEaS4R.i"], ["created_at", "2020-06-03 14:34:39.701574"], ["updated_at", "2020-06-03 14:34:39.701574"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "James"], ["lastname", "Doe"], ["email", "james.doe@gmail.com"], ["password_digest", "$2a$04$rrlVBVAIa6iMG/Obk1Atj.Z0b8FiTLhLVQFvlpGW89QdeNaz/OGEW"], ["created_at", "2020-06-03 14:35:25.239131"], ["updated_at", "2020-06-03 14:35:25.239131"], ["token", "cd6463edbe6b22218f9ea633c6bb8b13"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"cd6463edbe6b22218f9ea633c6bb8b13"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "cd6463edbe6b22218f9ea633c6bb8b13"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 2386)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "James"], ["lastname", "Doe"], ["email", "james.doe@gmail.com"], ["password_digest", "$2a$04$hoE/tD/9Nx0zHBn/WMjge.Xmk/4YVRIVDxw1mt5Q2ojYdb1YwsPCm"], ["created_at", "2020-06-03 14:35:25.252743"], ["updated_at", "2020-06-03 14:35:25.252743"], ["token", "26af514f2a660071daca58018f8d32c0"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$cmsPCxFVcCFmlb2OUDlc/u7v6C1.16hByM/gHOH5dl84J9U.hkkUq"], ["created_at", "2020-06-03 14:35:25.260334"], ["updated_at", "2020-06-03 14:35:25.260334"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:35:25.261703"], ["token", "ea21f0e16d8f7fea123dc268147d7c33"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1852)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"james.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "f8a2a656564c526dedea58df05b7aa2e"], ["updated_at", "2020-06-03 14:35:25.286149"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1319)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"james.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "ea315a8edf20768eba5c9d4d66228cb7"], ["updated_at", "2020-06-03 14:35:25.296769"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1144)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"ea315a8edf20768eba5c9d4d66228cb7"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "ea315a8edf20768eba5c9d4d66228cb7"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:35:25.300533"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "James"], ["lastname", "Doe"], ["email", "james.doe@gmail.com"], ["password_digest", "$2a$04$GV1kf0hGTNkSV9AJnPSjEuPriny/VaxGyhEVPwSAlob6k0xtJ4PxS"], ["created_at", "2020-06-03 14:35:25.305549"], ["updated_at", "2020-06-03 14:35:25.305549"], ["token", "3f12df2fba4454d2fd308d5ee4f50ba2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:35:25.310411"], ["updated_at", "2020-06-03 14:35:25.310411"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:35:25.319133"], ["updated_at", "2020-06-03 14:35:25.319133"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:35:25.349673"], ["updated_at", "2020-06-03 14:35:25.349673"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:35:25.363570"], ["updated_at", "2020-06-03 14:35:25.363570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:35:25.393688"], ["updated_at", "2020-06-03 14:35:25.393688"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:35:25.412141"], ["updated_at", "2020-06-03 14:35:25.412141"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:35:25.414684"], ["updated_at", "2020-06-03 14:35:25.414684"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:35:25.418039"], ["updated_at", "2020-06-03 14:35:25.418039"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:35:25.423896"], ["updated_at", "2020-06-03 14:35:25.423896"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:35:25.429168"], ["updated_at", "2020-06-03 14:35:25.429168"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:35:25.435689"], ["updated_at", "2020-06-03 14:35:25.435689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:35:25.437295"], ["updated_at", "2020-06-03 14:35:25.437295"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:35:25.447037"], ["updated_at", "2020-06-03 14:35:25.447037"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:35:25.451024"], ["updated_at", "2020-06-03 14:35:25.451024"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:35:25.452790"], ["updated_at", "2020-06-03 14:35:25.452790"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:35:25.458522"], ["updated_at", "2020-06-03 14:35:25.458522"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:35:25.459718"], ["updated_at", "2020-06-03 14:35:25.459718"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:35:25.466070"], ["updated_at", "2020-06-03 14:35:25.466070"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$328KNsoBVblJmkT9TmlQheeww419Pc4/ucynI7EUNEPt/Um0mVk1i"], ["created_at", "2020-06-03 14:35:25.492582"], ["updated_at", "2020-06-03 14:35:25.492582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "james.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "James"], ["lastname", "Doe"], ["email", "james.doe@gmail.com"], ["password_digest", "$2a$04$GclgUg0ebdQcqds8OLbI/e30FCZ/1N28InmBvRjG.AVgpJ5YtaDAu"], ["created_at", "2020-06-03 14:35:25.530829"], ["updated_at", "2020-06-03 14:35:25.530829"], ["token", "a8622272b58f488f06d340b004f36645"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$PWRP97RxrDc4y71khT8Zh.yTl/XW.4HDsviS7tSC33s4r0zzwCrvO"], ["created_at", "2020-06-03 14:35:25.533459"], ["updated_at", "2020-06-03 14:35:25.533459"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$GfNWjkCXGcgFYNuc0fmU3e7w8yt3FS4Ms64JHRuDIZ8cNwarySJZm"], ["created_at", "2020-06-03 14:37:49.214784"], ["updated_at", "2020-06-03 14:37:49.214784"], ["token", "3479397275db20cd6609406547cbef7d"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"3479397275db20cd6609406547cbef7d"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "3479397275db20cd6609406547cbef7d"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 2386)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$bDUW42EcUkKt0HybzjUWkeR9SBk/4eSkdWBr3SgBrA6fxcQcc3dzO"], ["created_at", "2020-06-03 14:37:49.234773"], ["updated_at", "2020-06-03 14:37:49.234773"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$zHH.8niU6T4Z.XDTVBrRpuvWXIDqEaIqB2kFdCOPk8iLnKWOnX9ee"], ["created_at", "2020-06-03 14:37:49.243059"], ["updated_at", "2020-06-03 14:37:49.243059"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:37:49.244736"], ["token", "a9cf9789b94f1103f875b60268516991"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1852)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "04e4c0e50df2baac53f363242253e025"], ["updated_at", "2020-06-03 14:37:49.270077"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1315)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "db4becbdb403d017f74151303fa04a28"], ["updated_at", "2020-06-03 14:37:49.284672"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"db4becbdb403d017f74151303fa04a28"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "db4becbdb403d017f74151303fa04a28"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:37:49.288154"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$/Hh7yHubbQNm2w8YJ9o01.M3oEND1HUwXo8OIKtjq9fE6wOgvNvuy"], ["created_at", "2020-06-03 14:37:49.292651"], ["updated_at", "2020-06-03 14:37:49.292651"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:37:49.297758"], ["updated_at", "2020-06-03 14:37:49.297758"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:37:49.307740"], ["updated_at", "2020-06-03 14:37:49.307740"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:37:49.342139"], ["updated_at", "2020-06-03 14:37:49.342139"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:37:49.358134"], ["updated_at", "2020-06-03 14:37:49.358134"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:37:49.390773"], ["updated_at", "2020-06-03 14:37:49.390773"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:37:49.407534"], ["updated_at", "2020-06-03 14:37:49.407534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:37:49.410371"], ["updated_at", "2020-06-03 14:37:49.410371"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:37:49.414275"], ["updated_at", "2020-06-03 14:37:49.414275"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:37:49.420137"], ["updated_at", "2020-06-03 14:37:49.420137"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:37:49.425422"], ["updated_at", "2020-06-03 14:37:49.425422"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:37:49.438602"], ["updated_at", "2020-06-03 14:37:49.438602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:37:49.440334"], ["updated_at", "2020-06-03 14:37:49.440334"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:37:49.449588"], ["updated_at", "2020-06-03 14:37:49.449588"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:37:49.453860"], ["updated_at", "2020-06-03 14:37:49.453860"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:37:49.456280"], ["updated_at", "2020-06-03 14:37:49.456280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:37:49.463964"], ["updated_at", "2020-06-03 14:37:49.463964"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:37:49.465549"], ["updated_at", "2020-06-03 14:37:49.465549"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:37:49.474088"], ["updated_at", "2020-06-03 14:37:49.474088"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$olRoCd.Tjm8xp2g4tKE1VeY0CsZmX0PULju8vee4hspnVb/oYxqx2"], ["created_at", "2020-06-03 14:37:49.499262"], ["updated_at", "2020-06-03 14:37:49.499262"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$eEapEdwxDc0CCf6zejwVfeNya0ULoV0aUO8jdZqazCh9Gdyuapx4i"], ["created_at", "2020-06-03 14:37:49.537644"], ["updated_at", "2020-06-03 14:37:49.537644"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$9dhEWCXTEefs1Dvt3tgeb.skd7MTj8WBYlt6HVb2jDCHIkmwGFScG"], ["created_at", "2020-06-03 14:40:48.498400"], ["updated_at", "2020-06-03 14:40:48.498400"], ["token", "92eea1eef20e37d9a5880bf65cd8f70a"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:40:48.512079"], ["updated_at", "2020-06-03 14:40:48.512079"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"92eea1eef20e37d9a5880bf65cd8f70a"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "92eea1eef20e37d9a5880bf65cd8f70a"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 726)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$PjE8jX2dhRl8J7Kd0ViWdeYCfIeR3YdOC0exkJVTfYcMvLbp6Za2e"], ["created_at", "2020-06-03 14:40:48.525489"], ["updated_at", "2020-06-03 14:40:48.525489"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$kzxjXEGXa79iGsMADLjkO.NpVNKnXpOD8mE.PYVKMirXykJSaiqDi"], ["created_at", "2020-06-03 14:40:48.533154"], ["updated_at", "2020-06-03 14:40:48.533154"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:40:48.535023"], ["token", "c9f2985612728b4a2c95db61f77481d5"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1852)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "73a5d6c52831393f6474a59d530fe29b"], ["updated_at", "2020-06-03 14:40:48.561967"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1312)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "455cfbf3303ce07cc94edc58fbbf301f"], ["updated_at", "2020-06-03 14:40:48.573504"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"455cfbf3303ce07cc94edc58fbbf301f"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "455cfbf3303ce07cc94edc58fbbf301f"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:40:48.578903"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$WoNL2uWdLe0pFA4x5Nm1g.GUGxSA7GpOxpQ09mD/4QDyrd/j7bPA6"], ["created_at", "2020-06-03 14:40:48.584533"], ["updated_at", "2020-06-03 14:40:48.584533"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:40:48.586367"], ["updated_at", "2020-06-03 14:40:48.586367"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:40:48.596010"], ["updated_at", "2020-06-03 14:40:48.596010"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:40:48.629667"], ["updated_at", "2020-06-03 14:40:48.629667"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:40:48.645433"], ["updated_at", "2020-06-03 14:40:48.645433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:40:48.684429"], ["updated_at", "2020-06-03 14:40:48.684429"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:40:48.707977"], ["updated_at", "2020-06-03 14:40:48.707977"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.3ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:40:48.710443"], ["updated_at", "2020-06-03 14:40:48.710443"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:40:48.713862"], ["updated_at", "2020-06-03 14:40:48.713862"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:40:48.721249"], ["updated_at", "2020-06-03 14:40:48.721249"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:40:48.728759"], ["updated_at", "2020-06-03 14:40:48.728759"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:40:48.734928"], ["updated_at", "2020-06-03 14:40:48.734928"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:40:48.736532"], ["updated_at", "2020-06-03 14:40:48.736532"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:40:48.745125"], ["updated_at", "2020-06-03 14:40:48.745125"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:40:48.748932"], ["updated_at", "2020-06-03 14:40:48.748932"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:40:48.750942"], ["updated_at", "2020-06-03 14:40:48.750942"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:40:48.759277"], ["updated_at", "2020-06-03 14:40:48.759277"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:40:48.760497"], ["updated_at", "2020-06-03 14:40:48.760497"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:40:48.767223"], ["updated_at", "2020-06-03 14:40:48.767223"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$yrDF2iuM08EMCpWq.d1asON4bQF3YKkqew5PowDJp1C7bKpYyXc6m"], ["created_at", "2020-06-03 14:40:48.791580"], ["updated_at", "2020-06-03 14:40:48.791580"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$7ZKSADLmiTo1qGU/zn5zTeB9fmzj5FjLHxLmNPz2kQ18kLV6qjTk6"], ["created_at", "2020-06-03 14:40:48.849152"], ["updated_at", "2020-06-03 14:40:48.849152"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$6Iz3pnz..ghTNeALiP2pw.vepuV8yyYUXWCNrkw91jHHAIupHes6G"], ["created_at", "2020-06-03 14:42:59.053342"], ["updated_at", "2020-06-03 14:42:59.053342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$cN2ZzCsp1BuPuv6A2nUf2.bSLEtK077Fc4IGeum0vobLvnIJC8w2e"], ["created_at", "2020-06-03 14:42:59.064247"], ["updated_at", "2020-06-03 14:42:59.064247"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$TZsxP9pAW3uSRuCrrJOdEOD/fTCp.Lk3XSt6fbFsFSrEMIkH/V9jq"], ["created_at", "2020-06-03 14:42:59.077082"], ["updated_at", "2020-06-03 14:42:59.077082"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:42:59.078458"], ["token", "dd7109758d2ed18e6e9a8f7fced43863"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1906)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1163)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "f49bec12d4e9a985c31522b215cd3b1c"], ["updated_at", "2020-06-03 14:42:59.102721"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1340)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "e2c13fe2a93bfc13e9545ebcc14fb935"], ["updated_at", "2020-06-03 14:42:59.118360"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"e2c13fe2a93bfc13e9545ebcc14fb935"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "e2c13fe2a93bfc13e9545ebcc14fb935"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:42:59.123505"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1104)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$VEtSs7cQIC4ompM7f6kP3.PtkVCYtGY2FMp.4Tq6ESPAt6U7qT0Gu"], ["created_at", "2020-06-03 14:42:59.127856"], ["updated_at", "2020-06-03 14:42:59.127856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:42:59.135486"], ["updated_at", "2020-06-03 14:42:59.135486"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:42:59.146084"], ["updated_at", "2020-06-03 14:42:59.146084"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:42:59.179484"], ["updated_at", "2020-06-03 14:42:59.179484"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:42:59.196103"], ["updated_at", "2020-06-03 14:42:59.196103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:42:59.227426"], ["updated_at", "2020-06-03 14:42:59.227426"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:42:59.247147"], ["updated_at", "2020-06-03 14:42:59.247147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:42:59.249851"], ["updated_at", "2020-06-03 14:42:59.249851"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:42:59.253385"], ["updated_at", "2020-06-03 14:42:59.253385"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:42:59.259183"], ["updated_at", "2020-06-03 14:42:59.259183"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:42:59.266621"], ["updated_at", "2020-06-03 14:42:59.266621"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:42:59.272962"], ["updated_at", "2020-06-03 14:42:59.272962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:42:59.274570"], ["updated_at", "2020-06-03 14:42:59.274570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:42:59.286746"], ["updated_at", "2020-06-03 14:42:59.286746"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:42:59.291077"], ["updated_at", "2020-06-03 14:42:59.291077"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:42:59.292515"], ["updated_at", "2020-06-03 14:42:59.292515"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:42:59.299112"], ["updated_at", "2020-06-03 14:42:59.299112"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:42:59.300296"], ["updated_at", "2020-06-03 14:42:59.300296"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:42:59.310191"], ["updated_at", "2020-06-03 14:42:59.310191"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$1sya63nl5Z89niUOjD02FO4A2iHi/Y5dOllylyThw38f73eAm1NXa"], ["created_at", "2020-06-03 14:42:59.335321"], ["updated_at", "2020-06-03 14:42:59.335321"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$fDisZJmWZv4ATR1oESKo7.8g2Z3hMhAhu1QINSq8Rq7BJ93BM3K1u"], ["created_at", "2020-06-03 14:42:59.376228"], ["updated_at", "2020-06-03 14:42:59.376228"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$C6SH9bN/l2H5OPvwpkm7P.NXYe7YXuoEydHpywz7EsOKW9RooY/cO"], ["created_at", "2020-06-03 14:43:47.224563"], ["updated_at", "2020-06-03 14:43:47.224563"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$ft6KycInCcvIAxQRY5iua.sVcI71MdG1/Us.vrmJIaw90lzjZikGK"], ["created_at", "2020-06-03 14:43:47.227317"], ["updated_at", "2020-06-03 14:43:47.227317"], ["token", "e60db60597921cbdd999dfb2e65f6248"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:43:47.238778"], ["updated_at", "2020-06-03 14:43:47.238778"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"e60db60597921cbdd999dfb2e65f6248"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "e60db60597921cbdd999dfb2e65f6248"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 726)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:43:47.250256"], ["updated_at", "2020-06-03 14:43:47.250256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$JtUTmTiq.xf6qVG5lSEaHOiVbvjiSbEuICXLLhf1YWpPyDdDA/mL2"], ["created_at", "2020-06-03 14:43:47.259115"], ["updated_at", "2020-06-03 14:43:47.259115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$7LjLZGqGsMSpO5qROIReC.Sovk7zbKtW7W4dpjsNIVDukgE7obOpi"], ["created_at", "2020-06-03 14:43:47.266522"], ["updated_at", "2020-06-03 14:43:47.266522"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:43:47.269115"], ["token", "a3e4ac675d41c16bb16fe22c780aa5b9"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1852)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "f24030171892eaaa55c59c20feb491a4"], ["updated_at", "2020-06-03 14:43:47.294711"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1312)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "cf5580d271eb127eec0a5d6f19556772"], ["updated_at", "2020-06-03 14:43:47.308180"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"cf5580d271eb127eec0a5d6f19556772"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "cf5580d271eb127eec0a5d6f19556772"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:43:47.310871"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 977)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$bCdloYRVAYYPPW/ghlkG8uzN5.74pge73x2UB9uogyGLWnq9niET."], ["created_at", "2020-06-03 14:43:47.315067"], ["updated_at", "2020-06-03 14:43:47.315067"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:43:47.316926"], ["updated_at", "2020-06-03 14:43:47.316926"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:43:47.345094"], ["updated_at", "2020-06-03 14:43:47.345094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:43:47.358879"], ["updated_at", "2020-06-03 14:43:47.358879"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:43:47.374688"], ["updated_at", "2020-06-03 14:43:47.374688"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.2ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:43:47.406452"], ["updated_at", "2020-06-03 14:43:47.406452"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:43:47.426385"], ["updated_at", "2020-06-03 14:43:47.426385"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:43:47.428862"], ["updated_at", "2020-06-03 14:43:47.428862"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:43:47.432220"], ["updated_at", "2020-06-03 14:43:47.432220"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:43:47.438640"], ["updated_at", "2020-06-03 14:43:47.438640"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:43:47.446963"], ["updated_at", "2020-06-03 14:43:47.446963"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:43:47.452944"], ["updated_at", "2020-06-03 14:43:47.452944"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:43:47.454702"], ["updated_at", "2020-06-03 14:43:47.454702"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:43:47.463033"], ["updated_at", "2020-06-03 14:43:47.463033"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:43:47.466697"], ["updated_at", "2020-06-03 14:43:47.466697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:43:47.468172"], ["updated_at", "2020-06-03 14:43:47.468172"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:43:47.478032"], ["updated_at", "2020-06-03 14:43:47.478032"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:43:47.479257"], ["updated_at", "2020-06-03 14:43:47.479257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:43:47.485757"], ["updated_at", "2020-06-03 14:43:47.485757"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$eUqJTHXWIymFczpkyDYMje9ObkFISK90NC35brYLKQpa58uLje/LW"], ["created_at", "2020-06-03 14:43:47.511055"], ["updated_at", "2020-06-03 14:43:47.511055"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (14.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$65WEHoALTwQjh/e5pfm3EODfUTdVahS9R4DNiMTKEZWm.EndeVJjW"], ["created_at", "2020-06-03 14:43:47.562057"], ["updated_at", "2020-06-03 14:43:47.562057"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$jIL2lszED4PUGlb9kIycJ.SLSBfjtxOyapo9kXcPNFrJWA2nKsZU2"], ["created_at", "2020-06-03 14:47:19.068153"], ["updated_at", "2020-06-03 14:47:19.068153"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$foOObmyjNm4UQyELIM5xg.oqjlsJrasr1X6jjEFdi4PTVeYgXQECq"], ["created_at", "2020-06-03 14:47:19.070984"], ["updated_at", "2020-06-03 14:47:19.070984"], ["token", "1696e4846f160b5a4ed7274dbe81043d"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:47:19.084920"], ["updated_at", "2020-06-03 14:47:19.084920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"1696e4846f160b5a4ed7274dbe81043d"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "1696e4846f160b5a4ed7274dbe81043d"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5445)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$SEZUkGKfumt8JGAslZfcRu3xvDE7MHetbiYy5FNbR.DgAUKx.gb6e"], ["created_at", "2020-06-03 14:47:19.119662"], ["updated_at", "2020-06-03 14:47:19.119662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$KPmZBmCb3hFnmV7AguGvge7uRKHC06/gMmK/AEJmia.ke9LahQ6jG"], ["created_at", "2020-06-03 14:47:19.122648"], ["updated_at", "2020-06-03 14:47:19.122648"], ["token", "6fa20f617cb85b1c9d72c8eb2b57ca6b"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:47:19.131350"], ["updated_at", "2020-06-03 14:47:19.131350"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"6fa20f617cb85b1c9d72c8eb2b57ca6b"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "6fa20f617cb85b1c9d72c8eb2b57ca6b"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 509)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:47:19.137264"], ["updated_at", "2020-06-03 14:47:19.137264"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Es2ef3Ioh7OUqZcf7gZLA.l6WY9ZYjSkMeB22jYGdGxrnTniM.9Ze"], ["created_at", "2020-06-03 14:47:19.143988"], ["updated_at", "2020-06-03 14:47:19.143988"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$9q62w84Iu/dPClkPOttUPe4GNy2Cpy.mc2ctt9Clffz92gS5gO84C"], ["created_at", "2020-06-03 14:47:19.150047"], ["updated_at", "2020-06-03 14:47:19.150047"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:47:19.151846"], ["token", "cf036e37cca0450680af4d2a66f00513"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1849)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2209)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "5f107d5e2424c15d25894d5806be67c0"], ["updated_at", "2020-06-03 14:47:19.204887"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1312)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "431bd4e09d8f2953fb63a3c69de2a162"], ["updated_at", "2020-06-03 14:47:19.216482"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"431bd4e09d8f2953fb63a3c69de2a162"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "431bd4e09d8f2953fb63a3c69de2a162"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:47:19.219282"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$fVzhL36b/XRsRIIidripGuT4Moh95thpE/fYdzQZXmW.V1Pgh5Cke"], ["created_at", "2020-06-03 14:47:19.223377"], ["updated_at", "2020-06-03 14:47:19.223377"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:47:19.224883"], ["updated_at", "2020-06-03 14:47:19.224883"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:47:19.226986"], ["updated_at", "2020-06-03 14:47:19.226986"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:47:19.240410"], ["updated_at", "2020-06-03 14:47:19.240410"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:47:19.255354"], ["updated_at", "2020-06-03 14:47:19.255354"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.3ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:47:19.286410"], ["updated_at", "2020-06-03 14:47:19.286410"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:47:19.308121"], ["updated_at", "2020-06-03 14:47:19.308121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:47:19.310693"], ["updated_at", "2020-06-03 14:47:19.310693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:47:19.313923"], ["updated_at", "2020-06-03 14:47:19.313923"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:47:19.323338"], ["updated_at", "2020-06-03 14:47:19.323338"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:47:19.329703"], ["updated_at", "2020-06-03 14:47:19.329703"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:47:19.335820"], ["updated_at", "2020-06-03 14:47:19.335820"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:47:19.338278"], ["updated_at", "2020-06-03 14:47:19.338278"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:47:19.346960"], ["updated_at", "2020-06-03 14:47:19.346960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:47:19.350820"], ["updated_at", "2020-06-03 14:47:19.350820"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:47:19.352043"], ["updated_at", "2020-06-03 14:47:19.352043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:47:19.359898"], ["updated_at", "2020-06-03 14:47:19.359898"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:47:19.361314"], ["updated_at", "2020-06-03 14:47:19.361314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:47:19.368760"], ["updated_at", "2020-06-03 14:47:19.368760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$yfF2iXjk5J/4352mA6bbeeuTjO25TVreorbEe3WOEQvteUndS9xte"], ["created_at", "2020-06-03 14:47:19.413152"], ["updated_at", "2020-06-03 14:47:19.413152"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ylBuXS/zU3rH.Vq2aljIUeOA3XxiLn99pOo0SEZCi9IEwaU7JqOGu"], ["created_at", "2020-06-03 14:47:19.455093"], ["updated_at", "2020-06-03 14:47:19.455093"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$/UXcKtyDPVI0JCDecYEtle0Nofuw15C5W9oVQrMl93qPs5qppbUI."], ["created_at", "2020-06-03 14:48:10.177702"], ["updated_at", "2020-06-03 14:48:10.177702"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$xg/VAE4c/C1vx0QUr60PVuWyHw0nB1P90rmS9dbWUji.EzOFTw2z2"], ["created_at", "2020-06-03 14:48:10.180303"], ["updated_at", "2020-06-03 14:48:10.180303"], ["token", "a5f74c66cc560304fce027bb4dbeeedf"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.191275"], ["updated_at", "2020-06-03 14:48:10.191275"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"a5f74c66cc560304fce027bb4dbeeedf"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "a5f74c66cc560304fce027bb4dbeeedf"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5445)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.207772"], ["updated_at", "2020-06-03 14:48:10.207772"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$oigbiBrsQTtMVILiey08Le0ncEOtNo7zXe0aPMq3m1rdl5gU1xwBm"], ["created_at", "2020-06-03 14:48:10.216143"], ["updated_at", "2020-06-03 14:48:10.216143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$Dw90/O1ZutbbHRm11jzkp.FpXtUIEon8CuJKCzprST7LTcw3fJByS"], ["created_at", "2020-06-03 14:48:10.219608"], ["updated_at", "2020-06-03 14:48:10.219608"], ["token", "7b7e61113ebfed621ce5e85ffb65f21e"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:48:10.227199"], ["updated_at", "2020-06-03 14:48:10.227199"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"7b7e61113ebfed621ce5e85ffb65f21e"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "7b7e61113ebfed621ce5e85ffb65f21e"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 509)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:48:10.233185"], ["updated_at", "2020-06-03 14:48:10.233185"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 214)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$JXMcSFcvYd5qieqSQf/RIOoKKnF5Je4KJ87GZ9NCI3oqRXWeW4UY."], ["created_at", "2020-06-03 14:48:10.238650"], ["updated_at", "2020-06-03 14:48:10.238650"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$Hh5u2h25NMKwHhJvalj9/Ohot0lB01GUreGSPGma3CED3yyzniUgq"], ["created_at", "2020-06-03 14:48:10.246954"], ["updated_at", "2020-06-03 14:48:10.246954"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:48:10.250294"], ["token", "518b4c19a187b6f81f86e0a35410058a"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 1849)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2207)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "b45b23d5ce11382415a89e34e92dede4"], ["updated_at", "2020-06-03 14:48:10.294676"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1312)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "1336d775466b4df7b55e5002236c3509"], ["updated_at", "2020-06-03 14:48:10.306992"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"1336d775466b4df7b55e5002236c3509"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "1336d775466b4df7b55e5002236c3509"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:48:10.309820"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 977)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$P46CuHlGGmHyFeIYB1KMweCKYj6JtuN6qFfPA4JhTyIXzwl55Dprq"], ["created_at", "2020-06-03 14:48:10.314493"], ["updated_at", "2020-06-03 14:48:10.314493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:48:10.315678"], ["updated_at", "2020-06-03 14:48:10.315678"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.316608"], ["updated_at", "2020-06-03 14:48:10.316608"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:48:10.327220"], ["updated_at", "2020-06-03 14:48:10.327220"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.2ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.3ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:48:10.344681"], ["updated_at", "2020-06-03 14:48:10.344681"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.3ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:48:10.392856"], ["updated_at", "2020-06-03 14:48:10.392856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.412127"], ["updated_at", "2020-06-03 14:48:10.412127"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:48:10.414802"], ["updated_at", "2020-06-03 14:48:10.414802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.418908"], ["updated_at", "2020-06-03 14:48:10.418908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.427615"], ["updated_at", "2020-06-03 14:48:10.427615"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.433755"], ["updated_at", "2020-06-03 14:48:10.433755"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:48:10.440838"], ["updated_at", "2020-06-03 14:48:10.440838"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.443280"], ["updated_at", "2020-06-03 14:48:10.443280"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:48:10.453358"], ["updated_at", "2020-06-03 14:48:10.453358"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:48:10.457458"], ["updated_at", "2020-06-03 14:48:10.457458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.458696"], ["updated_at", "2020-06-03 14:48:10.458696"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:48:10.466797"], ["updated_at", "2020-06-03 14:48:10.466797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:48:10.468530"], ["updated_at", "2020-06-03 14:48:10.468530"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:48:10.476369"], ["updated_at", "2020-06-03 14:48:10.476369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$rASNxH7ICP0kaYUBdipS/OXDzoO4IfJ55.dDaseSFyr2dyAjL8cGe"], ["created_at", "2020-06-03 14:48:10.522627"], ["updated_at", "2020-06-03 14:48:10.522627"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$/vNArMiz0ivpN5DzId8Pge/mG.Hffbekvqka/S2yjQQF1kMO0oFDS"], ["created_at", "2020-06-03 14:48:10.565537"], ["updated_at", "2020-06-03 14:48:10.565537"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ZMwUo05z/w76FncWyvXdOelUOJqsAPX6ESDRTCPGN9pPHmsxj0lDq"], ["created_at", "2020-06-03 14:49:18.152322"], ["updated_at", "2020-06-03 14:49:18.152322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$yZqpgD4R0sa2x1F.wGloXeLNU0oza371Ic3T08W0ibMhVzmn56GPO"], ["created_at", "2020-06-03 14:49:18.155115"], ["updated_at", "2020-06-03 14:49:18.155115"], ["token", "0ae3019cf891b7796f3f502fd0eef5a4"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.168749"], ["updated_at", "2020-06-03 14:49:18.168749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"0ae3019cf891b7796f3f502fd0eef5a4"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "0ae3019cf891b7796f3f502fd0eef5a4"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5955)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.200703"], ["updated_at", "2020-06-03 14:49:18.200703"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$75ceRHK/QKuqiBxK2O3/OuayDUHZ/LNg1imC.HBD0yXP7C135kibi"], ["created_at", "2020-06-03 14:49:18.209313"], ["updated_at", "2020-06-03 14:49:18.209313"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$n/3a76W4JiNKPaAz54M27OC.Jew4gy5S4RgRrUGw8QQCU36lJ9bnu"], ["created_at", "2020-06-03 14:49:18.212530"], ["updated_at", "2020-06-03 14:49:18.212530"], ["token", "90c865b8c0468800150bdec8ce1613de"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:49:18.220643"], ["updated_at", "2020-06-03 14:49:18.220643"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"90c865b8c0468800150bdec8ce1613de"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "90c865b8c0468800150bdec8ce1613de"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 509)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:49:18.227264"], ["updated_at", "2020-06-03 14:49:18.227264"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$SXLsZV5SKFuiyZ9rN4skneNykGP4Ybp/JrBk5cDMwih3ExjMt8jFy"], ["created_at", "2020-06-03 14:49:18.232831"], ["updated_at", "2020-06-03 14:49:18.232831"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$qqAcT.YSNJud4PpczvoKUOQOSqLg3VjJY67T2sQvhqg42cbFLE74i"], ["created_at", "2020-06-03 14:49:18.239230"], ["updated_at", "2020-06-03 14:49:18.239230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:49:18.240530"], ["token", "25edfee77b12cdf3a85407b226319899"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1851)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2207)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "f45ccb6f103af025d885e6df8747b336"], ["updated_at", "2020-06-03 14:49:18.288043"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1312)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "d734573f81e8d7aa3cac2b8a32881579"], ["updated_at", "2020-06-03 14:49:18.303518"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"d734573f81e8d7aa3cac2b8a32881579"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "d734573f81e8d7aa3cac2b8a32881579"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:49:18.306827"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$hssFLChVYmQZ4S6yOIM26eDtoxH7r9Xr3vX2H3trJm5Sy5xXQ3kT2"], ["created_at", "2020-06-03 14:49:18.311437"], ["updated_at", "2020-06-03 14:49:18.311437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:49:18.312573"], ["updated_at", "2020-06-03 14:49:18.312573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.313617"], ["updated_at", "2020-06-03 14:49:18.313617"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:49:18.325101"], ["updated_at", "2020-06-03 14:49:18.325101"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:49:18.342435"], ["updated_at", "2020-06-03 14:49:18.342435"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.5ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:49:18.376270"], ["updated_at", "2020-06-03 14:49:18.376270"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.394320"], ["updated_at", "2020-06-03 14:49:18.394320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.3ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:49:18.398083"], ["updated_at", "2020-06-03 14:49:18.398083"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.404711"], ["updated_at", "2020-06-03 14:49:18.404711"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.411229"], ["updated_at", "2020-06-03 14:49:18.411229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.416914"], ["updated_at", "2020-06-03 14:49:18.416914"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:49:18.425634"], ["updated_at", "2020-06-03 14:49:18.425634"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.427518"], ["updated_at", "2020-06-03 14:49:18.427518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:49:18.435656"], ["updated_at", "2020-06-03 14:49:18.435656"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:49:18.441317"], ["updated_at", "2020-06-03 14:49:18.441317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.442833"], ["updated_at", "2020-06-03 14:49:18.442833"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:49:18.449985"], ["updated_at", "2020-06-03 14:49:18.449985"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:49:18.451328"], ["updated_at", "2020-06-03 14:49:18.451328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:49:18.460546"], ["updated_at", "2020-06-03 14:49:18.460546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (18.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$.dZRROwcYGbs2vr5gUDx9OExHEm8laroRQKR32pHEokenYcvSNGyW"], ["created_at", "2020-06-03 14:49:18.506727"], ["updated_at", "2020-06-03 14:49:18.506727"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Zs7f7byqy5F3JhsEzl8nj.3YSicgfRmU8PHE8Xq.pN8HB/LsPlf5O"], ["created_at", "2020-06-03 14:49:18.547990"], ["updated_at", "2020-06-03 14:49:18.547990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Zgqx.V0fcd9v34PbVVvKWuroScItEaWRYybk6VqRTkq2e61X0yHMy"], ["created_at", "2020-06-03 14:55:48.992541"], ["updated_at", "2020-06-03 14:55:48.992541"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$dkOfydGjTESYFGMBod7UG.wSqBnGI/kyrNLluruxjFRRR6efMc/PO"], ["created_at", "2020-06-03 14:55:48.995240"], ["updated_at", "2020-06-03 14:55:48.995240"], ["token", "319801b71b4f3df87e1cf86b1ee04198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.011090"], ["updated_at", "2020-06-03 14:55:49.011090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 14:55:49.026821"], ["updated_at", "2020-06-03 14:55:49.026821"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:55:49.033600"], ["updated_at", "2020-06-03 14:55:49.033600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"319801b71b4f3df87e1cf86b1ee04198"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "319801b71b4f3df87e1cf86b1ee04198"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3467)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.062102"], ["updated_at", "2020-06-03 14:55:49.062102"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$P0cZSGdCOX8RoXQnaVxBS.yFeuNLgjnY4pC1zBYH4cSsYPV8s2vke"], ["created_at", "2020-06-03 14:55:49.071366"], ["updated_at", "2020-06-03 14:55:49.071366"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$rVEmwALYOqiyZ.gLq3gn9O9AYxIhzwYZI9n0jwkhxJ0sTbadecMK."], ["created_at", "2020-06-03 14:55:49.074917"], ["updated_at", "2020-06-03 14:55:49.074917"], ["token", "d5e36c1ab2c9f4dd8e82948b9b8e480b"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:55:49.078609"], ["updated_at", "2020-06-03 14:55:49.078609"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"d5e36c1ab2c9f4dd8e82948b9b8e480b"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "d5e36c1ab2c9f4dd8e82948b9b8e480b"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 511)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:55:49.104732"], ["updated_at", "2020-06-03 14:55:49.104732"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$qsSd8pp8ONsxtZReBeyzMezJ/S75AJVva65LxZglwOCMozehYgYey"], ["created_at", "2020-06-03 14:55:49.110367"], ["updated_at", "2020-06-03 14:55:49.110367"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$rvAxzzKo1x56wqcabZgBEe5DQsWGoo.Kmut5xKvzT3szrAJ6Mow/i"], ["created_at", "2020-06-03 14:55:49.116215"], ["updated_at", "2020-06-03 14:55:49.116215"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:55:49.118444"], ["token", "3277fbf71ba7b2bd96ea137d99f9fa36"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1847)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2207)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "0beb4dfd69028aee1d1544cf6c3cf123"], ["updated_at", "2020-06-03 14:55:49.151080"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1312)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "28b4abd33eb91f8dfb8f4e119714d90b"], ["updated_at", "2020-06-03 14:55:49.162948"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"28b4abd33eb91f8dfb8f4e119714d90b"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "28b4abd33eb91f8dfb8f4e119714d90b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:55:49.165533"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 977)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$LOcWIebvxA1oonG77QD/Hefkrv0KOr4y1aA5tkcBVCy3CTlfycy86"], ["created_at", "2020-06-03 14:55:49.170017"], ["updated_at", "2020-06-03 14:55:49.170017"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:55:49.172662"], ["updated_at", "2020-06-03 14:55:49.172662"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.174921"], ["updated_at", "2020-06-03 14:55:49.174921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:55:49.177152"], ["updated_at", "2020-06-03 14:55:49.177152"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (1.0ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:55:49.197871"], ["updated_at", "2020-06-03 14:55:49.197871"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:55:49.244930"], ["updated_at", "2020-06-03 14:55:49.244930"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.264017"], ["updated_at", "2020-06-03 14:55:49.264017"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:55:49.267097"], ["updated_at", "2020-06-03 14:55:49.267097"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.271063"], ["updated_at", "2020-06-03 14:55:49.271063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.276753"], ["updated_at", "2020-06-03 14:55:49.276753"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.285888"], ["updated_at", "2020-06-03 14:55:49.285888"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:55:49.293212"], ["updated_at", "2020-06-03 14:55:49.293212"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.294798"], ["updated_at", "2020-06-03 14:55:49.294798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:55:49.304065"], ["updated_at", "2020-06-03 14:55:49.304065"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:55:49.308710"], ["updated_at", "2020-06-03 14:55:49.308710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.310116"], ["updated_at", "2020-06-03 14:55:49.310116"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:55:49.317801"], ["updated_at", "2020-06-03 14:55:49.317801"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:55:49.319638"], ["updated_at", "2020-06-03 14:55:49.319638"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:55:49.328305"], ["updated_at", "2020-06-03 14:55:49.328305"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$7qYcvLVQz/77YM/7SOmdDetAY35IjEo3Ir8tueBwS1TFPVXVG7hxO"], ["created_at", "2020-06-03 14:55:49.376874"], ["updated_at", "2020-06-03 14:55:49.376874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$PwSdurvG1bm/XStVVSjQU.pjvvntG9AtRgbzYvY/9CbqI5sHWszZi"], ["created_at", "2020-06-03 14:55:49.421464"], ["updated_at", "2020-06-03 14:55:49.421464"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$YfDSXrZOuTBYtUlKrnwU9evRmj7O8LEJJb/F.68fZbSyjDQJ7yM5S"], ["created_at", "2020-06-03 14:57:35.503065"], ["updated_at", "2020-06-03 14:57:35.503065"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$9TFvFsxcCE2sFljO9nwet.oDDJpb2IAPXI51m2cbxjrQamTR5LlRm"], ["created_at", "2020-06-03 14:57:35.505743"], ["updated_at", "2020-06-03 14:57:35.505743"], ["token", "9beb2519ae73ad4a440fec051000f93c"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.518860"], ["updated_at", "2020-06-03 14:57:35.518860"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 14:57:35.535607"], ["updated_at", "2020-06-03 14:57:35.535607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:35.542856"], ["updated_at", "2020-06-03 14:57:35.542856"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:57:35.550356"], ["updated_at", "2020-06-03 14:57:35.550356"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"9beb2519ae73ad4a440fec051000f93c"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "9beb2519ae73ad4a440fec051000f93c"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.3ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mBodyTreatment Load (0.5ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 3043)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.568181"], ["updated_at", "2020-06-03 14:57:35.568181"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$fM7A7r6pO8UgOesrXFM75uCJvHB0ffl2IQToVcLA9YrUz.ieSNl1."], ["created_at", "2020-06-03 14:57:35.592897"], ["updated_at", "2020-06-03 14:57:35.592897"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$.w5oX739CusVOz.35kAvV.lIvoPKJMskUZxgoidgOKJdWt7RKNFDa"], ["created_at", "2020-06-03 14:57:35.596492"], ["updated_at", "2020-06-03 14:57:35.596492"], ["token", "4a00b1d1806b1ae0844a5cf7c3fba5ac"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:35.599475"], ["updated_at", "2020-06-03 14:57:35.599475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"4a00b1d1806b1ae0844a5cf7c3fba5ac"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "4a00b1d1806b1ae0844a5cf7c3fba5ac"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 501)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:35.607395"], ["updated_at", "2020-06-03 14:57:35.607395"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$iQgY3SEU3g3REUlIN.Lug.neOD/dkEc3iBFQW4cebUAOC.KGNLNpm"], ["created_at", "2020-06-03 14:57:35.615245"], ["updated_at", "2020-06-03 14:57:35.615245"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$aEmCGf7zLwjz3bh7IK.GdOp4bg2Toi6.jH2Dn/kAMtNwbq61aeCP."], ["created_at", "2020-06-03 14:57:35.621567"], ["updated_at", "2020-06-03 14:57:35.621567"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:57:35.623031"], ["token", "b2b286174c8c7da9dee0d9d73d74674b"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1847)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "52b7ace6c7230b4d6736a4882195a3e9"], ["updated_at", "2020-06-03 14:57:35.653246"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1312)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "500de29581bf6483008a9cb23d4ad332"], ["updated_at", "2020-06-03 14:57:35.664410"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"500de29581bf6483008a9cb23d4ad332"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "500de29581bf6483008a9cb23d4ad332"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:57:35.667908"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$iX9etRsnw5MLS5W1i4//1..mvLFuPCqCnK1zY6paBUe6nMIi3FyXy"], ["created_at", "2020-06-03 14:57:35.672560"], ["updated_at", "2020-06-03 14:57:35.672560"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:35.674034"], ["updated_at", "2020-06-03 14:57:35.674034"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.675361"], ["updated_at", "2020-06-03 14:57:35.675361"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:57:35.677168"], ["updated_at", "2020-06-03 14:57:35.677168"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.2ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:57:35.695689"], ["updated_at", "2020-06-03 14:57:35.695689"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:57:35.731650"], ["updated_at", "2020-06-03 14:57:35.731650"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.749533"], ["updated_at", "2020-06-03 14:57:35.749533"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.3ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:57:35.754021"], ["updated_at", "2020-06-03 14:57:35.754021"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.759469"], ["updated_at", "2020-06-03 14:57:35.759469"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.765805"], ["updated_at", "2020-06-03 14:57:35.765805"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.771789"], ["updated_at", "2020-06-03 14:57:35.771789"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:35.782499"], ["updated_at", "2020-06-03 14:57:35.782499"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.784531"], ["updated_at", "2020-06-03 14:57:35.784531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:57:35.787364"], ["updated_at", "2020-06-03 14:57:35.787364"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:35.791472"], ["updated_at", "2020-06-03 14:57:35.791472"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.792746"], ["updated_at", "2020-06-03 14:57:35.792746"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:35.802572"], ["updated_at", "2020-06-03 14:57:35.802572"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:35.804595"], ["updated_at", "2020-06-03 14:57:35.804595"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:57:35.813424"], ["updated_at", "2020-06-03 14:57:35.813424"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$zAEI8fUVp1a8d1ftGMT6bO.ge9zeMWC1QKlDuPZyTeuUBznvGHXK."], ["created_at", "2020-06-03 14:57:35.862437"], ["updated_at", "2020-06-03 14:57:35.862437"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$lYvhIvrUuvaJebPYvvHIGu58vb.PzuGtaC0KKxCDatMtdhXipVQ6i"], ["created_at", "2020-06-03 14:57:35.907765"], ["updated_at", "2020-06-03 14:57:35.907765"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$oIFaCo4LFlCDEKLs3i2q2udSiCWoArutTBMa5dHEo7ElfPJqjzhZO"], ["created_at", "2020-06-03 14:57:51.965709"], ["updated_at", "2020-06-03 14:57:51.965709"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$qQxZ8e/oPfUmXiMCzS95ge.vtDeKsQm5iB88QHkNwPoUHxqNYAMHu"], ["created_at", "2020-06-03 14:57:51.968413"], ["updated_at", "2020-06-03 14:57:51.968413"], ["token", "a7ba686f54fa25cb42a2c27299e86510"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:51.978795"], ["updated_at", "2020-06-03 14:57:51.978795"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 14:57:51.987424"], ["updated_at", "2020-06-03 14:57:51.987424"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:51.993728"], ["updated_at", "2020-06-03 14:57:51.993728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:57:52.000474"], ["updated_at", "2020-06-03 14:57:52.000474"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"a7ba686f54fa25cb42a2c27299e86510"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "a7ba686f54fa25cb42a2c27299e86510"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3043)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:52.011539"], ["updated_at", "2020-06-03 14:57:52.011539"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (18.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$xWfjsAtIQd.U/Kbejyqs4ut.fZ/2WNZoVLutXgA4aAlApzVxfEqga"], ["created_at", "2020-06-03 14:57:52.036996"], ["updated_at", "2020-06-03 14:57:52.036996"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$5ydqpUgaB1QkqhHCzpj1t.rSTBUHS7n1PjJtcX4K9dZ0ATp/Xheei"], ["created_at", "2020-06-03 14:57:52.041080"], ["updated_at", "2020-06-03 14:57:52.041080"], ["token", "e1860b0049258c9bac92ba51463461c6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:52.045324"], ["updated_at", "2020-06-03 14:57:52.045324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"e1860b0049258c9bac92ba51463461c6"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "e1860b0049258c9bac92ba51463461c6"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 501)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:52.052867"], ["updated_at", "2020-06-03 14:57:52.052867"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$XJa0b0Fe9bm8rxOOQ2Nub.Vt6h5kGxlLT/0LDXMumBsRb.W9OlRj2"], ["created_at", "2020-06-03 14:57:52.059111"], ["updated_at", "2020-06-03 14:57:52.059111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$31GRHlZAlzLE3Y5uF2F9mORW19QTRMc79ZoDRpaokaTOGI.TdIJ8y"], ["created_at", "2020-06-03 14:57:52.065409"], ["updated_at", "2020-06-03 14:57:52.065409"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:57:52.066865"], ["token", "912218449cf3e78ea37492894cc1a452"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1847)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "6d38478664ebf77ad466eb596be51221"], ["updated_at", "2020-06-03 14:57:52.090947"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1312)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "2485b506c42244fd0e1c1a8dd4ee4288"], ["updated_at", "2020-06-03 14:57:52.101463"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"2485b506c42244fd0e1c1a8dd4ee4288"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "2485b506c42244fd0e1c1a8dd4ee4288"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:57:52.105425"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$lyFgJxbrzoW8ZCIaHhPszOj0pjDjXjLGOgj6LEuvqM/5oH.h08XFS"], ["created_at", "2020-06-03 14:57:52.112646"], ["updated_at", "2020-06-03 14:57:52.112646"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:52.114079"], ["updated_at", "2020-06-03 14:57:52.114079"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:52.115464"], ["updated_at", "2020-06-03 14:57:52.115464"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:57:52.117481"], ["updated_at", "2020-06-03 14:57:52.117481"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.2ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:57:52.132589"], ["updated_at", "2020-06-03 14:57:52.132589"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:57:52.167375"], ["updated_at", "2020-06-03 14:57:52.167375"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:52.186425"], ["updated_at", "2020-06-03 14:57:52.186425"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:57:52.189088"], ["updated_at", "2020-06-03 14:57:52.189088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:52.192691"], ["updated_at", "2020-06-03 14:57:52.192691"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:52.198895"], ["updated_at", "2020-06-03 14:57:52.198895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:52.206682"], ["updated_at", "2020-06-03 14:57:52.206682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:52.213472"], ["updated_at", "2020-06-03 14:57:52.213472"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:52.215118"], ["updated_at", "2020-06-03 14:57:52.215118"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:57:52.217307"], ["updated_at", "2020-06-03 14:57:52.217307"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:52.222417"], ["updated_at", "2020-06-03 14:57:52.222417"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:52.224244"], ["updated_at", "2020-06-03 14:57:52.224244"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:57:52.233194"], ["updated_at", "2020-06-03 14:57:52.233194"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:57:52.234681"], ["updated_at", "2020-06-03 14:57:52.234681"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (11.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.5ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:57:52.258269"], ["updated_at", "2020-06-03 14:57:52.258269"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$xif.dk2luNj4VdWzZwZECeZNOIEs9Q/aMmEXZTFcPMnXeiAzQDH6K"], ["created_at", "2020-06-03 14:57:52.310689"], ["updated_at", "2020-06-03 14:57:52.310689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ey2jN26LPg4vGqcEHYJMsO/tNk5fc8kFoRYa/nl0XIbf7GF.EYHIa"], ["created_at", "2020-06-03 14:57:52.353722"], ["updated_at", "2020-06-03 14:57:52.353722"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$4bFD/eKfEerZ6zbUkIf20.tvL0OYN2tp6Rx00LJNpd0Pz6j80Oyzm"], ["created_at", "2020-06-03 14:58:38.376485"], ["updated_at", "2020-06-03 14:58:38.376485"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$cLjJknqVLNNPcJlXu5OA6OEgyQTl0z7gIkTBO4B4LtMalcTf6uK32"], ["created_at", "2020-06-03 14:58:38.379369"], ["updated_at", "2020-06-03 14:58:38.379369"], ["token", "580ad097de0db51b80346f35a1ae0497"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:58:38.386969"], ["updated_at", "2020-06-03 14:58:38.386969"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 14:58:38.395903"], ["updated_at", "2020-06-03 14:58:38.395903"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:58:38.402168"], ["updated_at", "2020-06-03 14:58:38.402168"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:58:38.408953"], ["updated_at", "2020-06-03 14:58:38.408953"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"580ad097de0db51b80346f35a1ae0497"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "580ad097de0db51b80346f35a1ae0497"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.3ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 3090)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$f9ojdq6c1Dq99Dp6mBnafe4xJKojGI55CJj7uJl3pywBxgClQThHS"], ["created_at", "2020-06-03 14:58:38.428126"], ["updated_at", "2020-06-03 14:58:38.428126"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$zMVs94p0C4o.M88hwHXJbeFMIfLQkuuyVeIBr30Q4gEQvGpGrVDwu"], ["created_at", "2020-06-03 14:58:38.452790"], ["updated_at", "2020-06-03 14:58:38.452790"], ["token", "7103b34803cea9506fb24ef2dfb7dc2a"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:58:38.456349"], ["updated_at", "2020-06-03 14:58:38.456349"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"7103b34803cea9506fb24ef2dfb7dc2a"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "7103b34803cea9506fb24ef2dfb7dc2a"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 501)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:58:38.461930"], ["updated_at", "2020-06-03 14:58:38.461930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 214)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$7pdf15.wiI4jwb1w0lSqoe9OaBCIejnR1Xpiwyeuw3/4WL3sAy6Iy"], ["created_at", "2020-06-03 14:58:38.468353"], ["updated_at", "2020-06-03 14:58:38.468353"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$toYPLpjpDBWhLZjuNYtD7.brxpLDzrxr29pxVIErGN1I4VFCb0PuW"], ["created_at", "2020-06-03 14:58:38.474791"], ["updated_at", "2020-06-03 14:58:38.474791"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:58:38.476670"], ["token", "3adbd0bbd34490da115a31db4342f4ba"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1847)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "9fc06fe6d8a68e1dd307ac0ded1d2b3c"], ["updated_at", "2020-06-03 14:58:38.501025"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1312)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "1130755c396d766fce7619273f0629cb"], ["updated_at", "2020-06-03 14:58:38.517332"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"1130755c396d766fce7619273f0629cb"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "1130755c396d766fce7619273f0629cb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:58:38.520341"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 977)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$OOYBvWXvVMtCKc3kLKXFe.OmsujSLeh4DLiXLfKn8zy6HgPYwv2Be"], ["created_at", "2020-06-03 14:58:38.524990"], ["updated_at", "2020-06-03 14:58:38.524990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:58:38.526137"], ["updated_at", "2020-06-03 14:58:38.526137"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:58:38.527051"], ["updated_at", "2020-06-03 14:58:38.527051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:58:38.528660"], ["updated_at", "2020-06-03 14:58:38.528660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:58:38.545154"], ["updated_at", "2020-06-03 14:58:38.545154"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:58:38.576371"], ["updated_at", "2020-06-03 14:58:38.576371"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:58:38.593950"], ["updated_at", "2020-06-03 14:58:38.593950"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.4ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:58:38.598078"], ["updated_at", "2020-06-03 14:58:38.598078"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:58:38.603550"], ["updated_at", "2020-06-03 14:58:38.603550"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:58:38.611014"], ["updated_at", "2020-06-03 14:58:38.611014"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:58:38.618564"], ["updated_at", "2020-06-03 14:58:38.618564"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:58:38.626322"], ["updated_at", "2020-06-03 14:58:38.626322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:58:38.627902"], ["updated_at", "2020-06-03 14:58:38.627902"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:58:38.630501"], ["updated_at", "2020-06-03 14:58:38.630501"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:58:38.634779"], ["updated_at", "2020-06-03 14:58:38.634779"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:58:38.637095"], ["updated_at", "2020-06-03 14:58:38.637095"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:58:38.644723"], ["updated_at", "2020-06-03 14:58:38.644723"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:58:38.646221"], ["updated_at", "2020-06-03 14:58:38.646221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:58:38.655115"], ["updated_at", "2020-06-03 14:58:38.655115"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$9LAZT2zmMcL1O6Lj1CVXaOTy5ecwEhn6JLYLTWz1lX5L/ztcgG5rW"], ["created_at", "2020-06-03 14:58:38.701399"], ["updated_at", "2020-06-03 14:58:38.701399"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$tw/Qiqc25yy0byDz2nao0.XxsGLmmeYzoL3wC7hAohFukdwVCLGCa"], ["created_at", "2020-06-03 14:58:38.747241"], ["updated_at", "2020-06-03 14:58:38.747241"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$.PP/Lo8GEhSHV5eQwJXI2O7TuaGQurf.YqSweYHoFZ.9i6eCccU9C"], ["created_at", "2020-06-03 14:59:13.161610"], ["updated_at", "2020-06-03 14:59:13.161610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$ME6GVZT2cefCsTsCBcq5GuUBc.ZTNTh55rBZW8LhqrmlNjg.NjMZ2"], ["created_at", "2020-06-03 14:59:13.164684"], ["updated_at", "2020-06-03 14:59:13.164684"], ["token", "3ada4470a04b95754e316e2104fb8998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:13.171724"], ["updated_at", "2020-06-03 14:59:13.171724"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 14:59:13.180722"], ["updated_at", "2020-06-03 14:59:13.180722"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:13.187140"], ["updated_at", "2020-06-03 14:59:13.187140"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:59:13.194097"], ["updated_at", "2020-06-03 14:59:13.194097"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"3ada4470a04b95754e316e2104fb8998"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "3ada4470a04b95754e316e2104fb8998"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3090)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$70n3ccz4AC0pq7EbjVDNJOAYKsn3qmLMlQcG.dvVs7NgqcnpfuccO"], ["created_at", "2020-06-03 14:59:13.213550"], ["updated_at", "2020-06-03 14:59:13.213550"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$XqEZHJEgy8cIEFEwVPySm.xto8dLlk7nLLPObYvTHbq4sriCE7KS6"], ["created_at", "2020-06-03 14:59:13.236547"], ["updated_at", "2020-06-03 14:59:13.236547"], ["token", "8cde5ebd426ebadef047fe9fc5318f6f"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:13.237510"], ["updated_at", "2020-06-03 14:59:13.237510"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"8cde5ebd426ebadef047fe9fc5318f6f"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "8cde5ebd426ebadef047fe9fc5318f6f"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 548)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$cocTFMPHL4KowmKTC3s9Xuk0sLlbth06PKJl2Y2xSuVPtVantJzaG"], ["created_at", "2020-06-03 14:59:13.250891"], ["updated_at", "2020-06-03 14:59:13.250891"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$PQMmpcWufr9W18T74A0xme7WtBkcHoiO/2JIuKY1nVUFad3.fdrsW"], ["created_at", "2020-06-03 14:59:13.262455"], ["updated_at", "2020-06-03 14:59:13.262455"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:59:13.264813"], ["token", "8bc1070a9a5c20e7cae566eff66cd224"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1847)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "a9e703849bc9f9a7c5034cac96427100"], ["updated_at", "2020-06-03 14:59:13.288942"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1312)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "01c8af837dc7cd7f9289c8eccea87290"], ["updated_at", "2020-06-03 14:59:13.300392"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"01c8af837dc7cd7f9289c8eccea87290"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "01c8af837dc7cd7f9289c8eccea87290"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:59:13.303029"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 977)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$aSPQ.N4BPdqD6jvhd9Q6leYSM7IXMuDJPfvgIcv5MuaEBKL.Rx6Sq"], ["created_at", "2020-06-03 14:59:13.308290"], ["updated_at", "2020-06-03 14:59:13.308290"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:13.309900"], ["updated_at", "2020-06-03 14:59:13.309900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:13.312254"], ["updated_at", "2020-06-03 14:59:13.312254"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:59:13.314628"], ["updated_at", "2020-06-03 14:59:13.314628"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:59:13.328469"], ["updated_at", "2020-06-03 14:59:13.328469"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.2ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:59:13.364710"], ["updated_at", "2020-06-03 14:59:13.364710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:13.384246"], ["updated_at", "2020-06-03 14:59:13.384246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:59:13.386981"], ["updated_at", "2020-06-03 14:59:13.386981"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:13.391328"], ["updated_at", "2020-06-03 14:59:13.391328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:13.397295"], ["updated_at", "2020-06-03 14:59:13.397295"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:13.405341"], ["updated_at", "2020-06-03 14:59:13.405341"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:13.412548"], ["updated_at", "2020-06-03 14:59:13.412548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:13.414092"], ["updated_at", "2020-06-03 14:59:13.414092"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.3ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:59:13.416260"], ["updated_at", "2020-06-03 14:59:13.416260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:13.424901"], ["updated_at", "2020-06-03 14:59:13.424901"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:13.426775"], ["updated_at", "2020-06-03 14:59:13.426775"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:13.433034"], ["updated_at", "2020-06-03 14:59:13.433034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:13.434193"], ["updated_at", "2020-06-03 14:59:13.434193"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:59:13.443755"], ["updated_at", "2020-06-03 14:59:13.443755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$RCvNzotDOgR0KH5AkOyuYuD0xiWu5cCXKF/xbQqHAr9.jQN8aysGO"], ["created_at", "2020-06-03 14:59:13.491930"], ["updated_at", "2020-06-03 14:59:13.491930"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$AaR/vMdu81MbbEIJeZUqIezQLeuIXRMpkl46KBiChsX9Nlff5O4Ra"], ["created_at", "2020-06-03 14:59:13.534046"], ["updated_at", "2020-06-03 14:59:13.534046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$idEEIQYB0Kc1m9LD2Gj6mOC0nSrMd1PNt0FTyjwM89qFa5S7Q/yy."], ["created_at", "2020-06-03 14:59:27.363663"], ["updated_at", "2020-06-03 14:59:27.363663"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$8ccl2H0YDQPvI/ra3UV6weMvxnig3OGHJjgV9m2XpfTEAZuEeayTu"], ["created_at", "2020-06-03 14:59:27.366382"], ["updated_at", "2020-06-03 14:59:27.366382"], ["token", "5a5440d15de5024a5659043724807ec7"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:27.374445"], ["updated_at", "2020-06-03 14:59:27.374445"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 14:59:27.385536"], ["updated_at", "2020-06-03 14:59:27.385536"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:27.392318"], ["updated_at", "2020-06-03 14:59:27.392318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:59:27.399211"], ["updated_at", "2020-06-03 14:59:27.399211"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"5a5440d15de5024a5659043724807ec7"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "5a5440d15de5024a5659043724807ec7"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2519)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$X19UcJXJvwr2/0Az/I.PwOsjKtZZjVGtPcdy.6TkIK/5Lwy2igeLy"], ["created_at", "2020-06-03 14:59:27.417703"], ["updated_at", "2020-06-03 14:59:27.417703"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$5pD5R7f7F.E61RWzjfgJF.wzmATaiHtsKASuHIUIsBlkh94MqaRSe"], ["created_at", "2020-06-03 14:59:27.443683"], ["updated_at", "2020-06-03 14:59:27.443683"], ["token", "eb8c68b8439f41ed581cca8b4406e61b"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:27.444726"], ["updated_at", "2020-06-03 14:59:27.444726"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"eb8c68b8439f41ed581cca8b4406e61b"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "eb8c68b8439f41ed581cca8b4406e61b"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 548)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$BuXJiRDVFjlTXnB.0OLbuOHhlZz2.9vi3cAuu5LSH0C83xN4pxW6y"], ["created_at", "2020-06-03 14:59:27.458691"], ["updated_at", "2020-06-03 14:59:27.458691"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$J756It.5H24IJ7DgSZwzM.dwUrmqSytYRmcJT2Y2jdw4M2ZE93cda"], ["created_at", "2020-06-03 14:59:27.465293"], ["updated_at", "2020-06-03 14:59:27.465293"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 14:59:27.467004"], ["token", "04f275a81eb8f25fe835fe5b63ecf06b"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1847)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "e0a742dc593cba2e2f36dcd8db98dd74"], ["updated_at", "2020-06-03 14:59:27.495644"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1312)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "22f90080835cdbf12786ceddbd6d8913"], ["updated_at", "2020-06-03 14:59:27.508007"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"22f90080835cdbf12786ceddbd6d8913"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "22f90080835cdbf12786ceddbd6d8913"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 14:59:27.510476"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 977)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$bHbxlpp2Uz9ANLj6FugmCe.9Qga8OcciLBdWCFrXR8n57r5w9Tk8e"], ["created_at", "2020-06-03 14:59:27.515645"], ["updated_at", "2020-06-03 14:59:27.515645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:27.517840"], ["updated_at", "2020-06-03 14:59:27.517840"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:27.519932"], ["updated_at", "2020-06-03 14:59:27.519932"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:59:27.521810"], ["updated_at", "2020-06-03 14:59:27.521810"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["created_at", "2020-06-03 14:59:27.535485"], ["updated_at", "2020-06-03 14:59:27.535485"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 14:59:27.569708"], ["updated_at", "2020-06-03 14:59:27.569708"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:27.594948"], ["updated_at", "2020-06-03 14:59:27.594948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 14:59:27.599805"], ["updated_at", "2020-06-03 14:59:27.599805"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:27.605126"], ["updated_at", "2020-06-03 14:59:27.605126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:27.611654"], ["updated_at", "2020-06-03 14:59:27.611654"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:27.617385"], ["updated_at", "2020-06-03 14:59:27.617385"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:27.625201"], ["updated_at", "2020-06-03 14:59:27.625201"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:27.627121"], ["updated_at", "2020-06-03 14:59:27.627121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 14:59:27.629659"], ["updated_at", "2020-06-03 14:59:27.629659"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:27.633687"], ["updated_at", "2020-06-03 14:59:27.633687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:27.635046"], ["updated_at", "2020-06-03 14:59:27.635046"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 14:59:27.643131"], ["updated_at", "2020-06-03 14:59:27.643131"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 14:59:27.644565"], ["updated_at", "2020-06-03 14:59:27.644565"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 14:59:27.652903"], ["updated_at", "2020-06-03 14:59:27.652903"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$4lv8ATskz5TXTGMX3St9lOgnDLdBNZvPUs8gA3O1p3wNQWLj8ZEgy"], ["created_at", "2020-06-03 14:59:27.698869"], ["updated_at", "2020-06-03 14:59:27.698869"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$RNXa/yMqDdw9F8qde0kmp.MLblucBx7vqI/6JV/8KFnV4yuC6J38K"], ["created_at", "2020-06-03 14:59:27.741083"], ["updated_at", "2020-06-03 14:59:27.741083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Tau2YbYyVbabX1E12T6Wx.SoxjK0R7vN67bCGRX3B9MEM3OHB0VC2"], ["created_at", "2020-06-03 15:08:39.102685"], ["updated_at", "2020-06-03 15:08:39.102685"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$9SUWs1Z0Qsc48DN1nhTzkOPtHURvg/AWxSPgeRXQVX165L7euJZn2"], ["created_at", "2020-06-03 15:08:39.105433"], ["updated_at", "2020-06-03 15:08:39.105433"], ["token", "a60901bfc1d8b0462d4de70fb53138c9"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.113709"], ["updated_at", "2020-06-03 15:08:39.113709"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:08:39.126935"], ["updated_at", "2020-06-03 15:08:39.126935"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:08:39.134134"], ["updated_at", "2020-06-03 15:08:39.134134"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:08:39.141911"], ["updated_at", "2020-06-03 15:08:39.141911"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:08:39.172087"], ["updated_at", "2020-06-03 15:08:39.172087"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>"a60901bfc1d8b0462d4de70fb53138c9"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "a60901bfc1d8b0462d4de70fb53138c9"], ["LIMIT", 1]]
  [1m[36mAppointment Load (0.2ms)[0m  [1m[34mSELECT "name", "category", "description", "city", "address", "appointments"."date", "duration", "price" FROM "appointments" INNER JOIN "users" ON "users"."id" = "appointments"."user_id" INNER JOIN "body_treatments" ON "body_treatments"."id" = "appointments"."body_treatment_id" INNER JOIN "studios" ON "studios"."id" = "appointments"."studio_id" INNER JOIN "durations" ON "durations"."id" = "appointments"."duration_id" WHERE "appointments"."user_id" = ? ORDER BY "appointments"."date" ASC[0m  [["user_id", 2]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2330)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$p13AuKxB0s7r.UeEuK3LvuL.O8PwfGHNQNfuS8zBFlUu5EiFSBQYW"], ["created_at", "2020-06-03 15:08:39.196247"], ["updated_at", "2020-06-03 15:08:39.196247"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$1CRcscN7EC1SXPKW0pNdY.gKX1i4taH4q378MTzwFuCANQKcHLvl2"], ["created_at", "2020-06-03 15:08:39.198781"], ["updated_at", "2020-06-03 15:08:39.198781"], ["token", "2bc73a5e1040aeacaa35f03d634cec84"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.199565"], ["updated_at", "2020-06-03 15:08:39.199565"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:08:39.201012"], ["updated_at", "2020-06-03 15:08:39.201012"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:08:39.201852"], ["updated_at", "2020-06-03 15:08:39.201852"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:08:39.204347"], ["updated_at", "2020-06-03 15:08:39.204347"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"2bc73a5e1040aeacaa35f03d634cec84"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "2bc73a5e1040aeacaa35f03d634cec84"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1269)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$CAMW/JbSvRbI3PztRzfPlusw0jK51Af3b0NYG0sBRqQRTXGeuu4Hm"], ["created_at", "2020-06-03 15:08:39.220107"], ["updated_at", "2020-06-03 15:08:39.220107"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$g4CTin6p1dkpcDPm7jLQSOGyVnVIWT/pRlFAE1E1BEWKr.TMY5FJK"], ["created_at", "2020-06-03 15:08:39.225060"], ["updated_at", "2020-06-03 15:08:39.225060"], ["token", "b108bc857a9da93bcb422273786ca5b7"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:08:39.226749"], ["updated_at", "2020-06-03 15:08:39.226749"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"b108bc857a9da93bcb422273786ca5b7"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "b108bc857a9da93bcb422273786ca5b7"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 548)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$wJ8TWVBFG1E2cG6LBizFyedXNsngv1aA6Ok8.KT5TP5fcyJbzldg2"], ["created_at", "2020-06-03 15:08:39.243221"], ["updated_at", "2020-06-03 15:08:39.243221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$6NK7sFk11Of4VfZflkwEue7hlOxgh7RLgp7KspjVsQbFqY4lKopDq"], ["created_at", "2020-06-03 15:08:39.250601"], ["updated_at", "2020-06-03 15:08:39.250601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 15:08:39.252928"], ["token", "1910626c41f4da00dc9f0783750e0f1d"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1847)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "69e02acc2aefe54234d96199d3ef8199"], ["updated_at", "2020-06-03 15:08:39.285158"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1312)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "ed5a958dd3a553489372bca2047dbd1b"], ["updated_at", "2020-06-03 15:08:39.299679"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"ed5a958dd3a553489372bca2047dbd1b"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "ed5a958dd3a553489372bca2047dbd1b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 15:08:39.302893"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$PMdlwH03tUEsyZxyOysn1eTW5fd/wqi4Xu/ufyhx8UEOMAQ3Be2zK"], ["created_at", "2020-06-03 15:08:39.308507"], ["updated_at", "2020-06-03 15:08:39.308507"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:08:39.309788"], ["updated_at", "2020-06-03 15:08:39.309788"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.310831"], ["updated_at", "2020-06-03 15:08:39.310831"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:08:39.312563"], ["updated_at", "2020-06-03 15:08:39.312563"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.2ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 15:08:39.366587"], ["updated_at", "2020-06-03 15:08:39.366587"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.385759"], ["updated_at", "2020-06-03 15:08:39.385759"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:08:39.388349"], ["updated_at", "2020-06-03 15:08:39.388349"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.394365"], ["updated_at", "2020-06-03 15:08:39.394365"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.400255"], ["updated_at", "2020-06-03 15:08:39.400255"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.407856"], ["updated_at", "2020-06-03 15:08:39.407856"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:08:39.431052"], ["updated_at", "2020-06-03 15:08:39.431052"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.432755"], ["updated_at", "2020-06-03 15:08:39.432755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.3ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:08:39.436298"], ["updated_at", "2020-06-03 15:08:39.436298"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:08:39.440870"], ["updated_at", "2020-06-03 15:08:39.440870"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.442856"], ["updated_at", "2020-06-03 15:08:39.442856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:08:39.450752"], ["updated_at", "2020-06-03 15:08:39.450752"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:08:39.452307"], ["updated_at", "2020-06-03 15:08:39.452307"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 15:08:39.460992"], ["updated_at", "2020-06-03 15:08:39.460992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$YVvazMZ4UbVdbS92W1k8WOGNpFOkfdSQ2X.fmcaCPGOL1jJl0DNNW"], ["created_at", "2020-06-03 15:08:39.487368"], ["updated_at", "2020-06-03 15:08:39.487368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$s9q65yooOHW/uVJiioZVD.hpb95PsBDWF.za1hh68Tu0oVSR.y5Dm"], ["created_at", "2020-06-03 15:08:39.531096"], ["updated_at", "2020-06-03 15:08:39.531096"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$HXNMy6Z9Hsk3TsQ1ymFGkOmIZRj6mrYBhvkeYevETJaHzEI6CUewq"], ["created_at", "2020-06-03 15:10:15.442238"], ["updated_at", "2020-06-03 15:10:15.442238"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$89F6gglMeZgVxwUnCJ9emOL.CXnbMWGvBUSluRZyJbLAv1fvtDNfS"], ["created_at", "2020-06-03 15:10:15.445536"], ["updated_at", "2020-06-03 15:10:15.445536"], ["token", "0dc2a35f88c9dde185b6b66854822a1e"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.454059"], ["updated_at", "2020-06-03 15:10:15.454059"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:10:15.467621"], ["updated_at", "2020-06-03 15:10:15.467621"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:10:15.474464"], ["updated_at", "2020-06-03 15:10:15.474464"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:10:15.482762"], ["updated_at", "2020-06-03 15:10:15.482762"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:10:15.512179"], ["updated_at", "2020-06-03 15:10:15.512179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>"0dc2a35f88c9dde185b6b66854822a1e"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "0dc2a35f88c9dde185b6b66854822a1e"], ["LIMIT", 1]]
  [1m[36mAppointment Load (0.3ms)[0m  [1m[34mSELECT "name", "category", "description", "city", "address", "appointments"."date", "duration", "price" FROM "appointments" INNER JOIN "users" ON "users"."id" = "appointments"."user_id" INNER JOIN "body_treatments" ON "body_treatments"."id" = "appointments"."body_treatment_id" INNER JOIN "studios" ON "studios"."id" = "appointments"."studio_id" INNER JOIN "durations" ON "durations"."id" = "appointments"."duration_id" WHERE "appointments"."user_id" = ? ORDER BY "appointments"."date" ASC[0m  [["user_id", 2]]
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 2330)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$XlfPOfy2txp//rMBZFqCBu9.qzyDN6JAkYgmtw3F/05EC0d.f3mqW"], ["created_at", "2020-06-03 15:10:15.542581"], ["updated_at", "2020-06-03 15:10:15.542581"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$zMLdlu5mJ0DKkseBpkldFOiC.jUhXMtGd9awnc6R98rNUe3D16T/6"], ["created_at", "2020-06-03 15:10:15.546285"], ["updated_at", "2020-06-03 15:10:15.546285"], ["token", "4b84db41928e838242f4c4ccdf97eca1"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.547287"], ["updated_at", "2020-06-03 15:10:15.547287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:10:15.549379"], ["updated_at", "2020-06-03 15:10:15.549379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:10:15.550455"], ["updated_at", "2020-06-03 15:10:15.550455"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:10:15.552935"], ["updated_at", "2020-06-03 15:10:15.552935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"4b84db41928e838242f4c4ccdf97eca1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "4b84db41928e838242f4c4ccdf97eca1"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1269)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$WmnhmsNYkOmS8ykaqeDp3eB6LKOp2JKnbT/GwRq92gVFiIgSx7vvK"], ["created_at", "2020-06-03 15:10:15.566744"], ["updated_at", "2020-06-03 15:10:15.566744"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$avPlgj4PCirWlA2Cxue.OeYY3x/KSs9m74zQhsF1CphNRKKDrEFgO"], ["created_at", "2020-06-03 15:10:15.569564"], ["updated_at", "2020-06-03 15:10:15.569564"], ["token", "2917ef18c1544c5ce76ce4523ccddfc8"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:10:15.570887"], ["updated_at", "2020-06-03 15:10:15.570887"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"2917ef18c1544c5ce76ce4523ccddfc8"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "2917ef18c1544c5ce76ce4523ccddfc8"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 548)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$q3snzUbU5PZJDtN8l1i3AO5mGFU.qd5vvsrcwjYX63tN1.16hNuZW"], ["created_at", "2020-06-03 15:10:15.587806"], ["updated_at", "2020-06-03 15:10:15.587806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$TTP.yEO2WdJHn2nVBXnuyeYooQ8Gze4ly4VgKBTvNvt4HTLzayO8O"], ["created_at", "2020-06-03 15:10:15.594644"], ["updated_at", "2020-06-03 15:10:15.594644"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 15:10:15.596285"], ["token", "467d701c1d35e94b57f3372ef7d00e83"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1847)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "4c7fe301dd048967d37156ad8f41432c"], ["updated_at", "2020-06-03 15:10:15.625280"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1312)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "8945fab5b332f6bdc39594ca7cbff38e"], ["updated_at", "2020-06-03 15:10:15.636811"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"8945fab5b332f6bdc39594ca7cbff38e"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "8945fab5b332f6bdc39594ca7cbff38e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 15:10:15.639793"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 977)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$MRquawKgxg/CDQrlYY5u2ur9fB6bEVf/89mOcfdD4WujFxWEir/Lq"], ["created_at", "2020-06-03 15:10:15.647680"], ["updated_at", "2020-06-03 15:10:15.647680"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:10:15.649242"], ["updated_at", "2020-06-03 15:10:15.649242"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.650262"], ["updated_at", "2020-06-03 15:10:15.650262"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:10:15.651872"], ["updated_at", "2020-06-03 15:10:15.651872"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:10:15.658505"], ["updated_at", "2020-06-03 15:10:15.658505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 15:10:15.692433"], ["updated_at", "2020-06-03 15:10:15.692433"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.711172"], ["updated_at", "2020-06-03 15:10:15.711172"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:10:15.713761"], ["updated_at", "2020-06-03 15:10:15.713761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.717244"], ["updated_at", "2020-06-03 15:10:15.717244"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.723208"], ["updated_at", "2020-06-03 15:10:15.723208"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.730731"], ["updated_at", "2020-06-03 15:10:15.730731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:10:15.736605"], ["updated_at", "2020-06-03 15:10:15.736605"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.738006"], ["updated_at", "2020-06-03 15:10:15.738006"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:10:15.759156"], ["updated_at", "2020-06-03 15:10:15.759156"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:10:15.763421"], ["updated_at", "2020-06-03 15:10:15.763421"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.765025"], ["updated_at", "2020-06-03 15:10:15.765025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:10:15.771668"], ["updated_at", "2020-06-03 15:10:15.771668"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:10:15.775173"], ["updated_at", "2020-06-03 15:10:15.775173"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 15:10:15.783779"], ["updated_at", "2020-06-03 15:10:15.783779"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$eLnSgquw0eTo8QWj7iUKn.9IajtAytkS7yyYae62sbUoSQ/iKgu5i"], ["created_at", "2020-06-03 15:10:15.807575"], ["updated_at", "2020-06-03 15:10:15.807575"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$oJNv2Hi9hWreidwhOYNTV.r35qNfoFvF49KBwhk1ABke.mLhvRqvO"], ["created_at", "2020-06-03 15:10:15.848636"], ["updated_at", "2020-06-03 15:10:15.848636"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$rUQNYaThgM4pqoSh2ZVc4uF2gHyWpzp3R/l0qXkGn38KJV8DaImT."], ["created_at", "2020-06-03 15:11:24.164771"], ["updated_at", "2020-06-03 15:11:24.164771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$aP13t.669pTgSO0k5.A5QelCZxzT.0ACevnJHoH2HU3JRiP74Pvxu"], ["created_at", "2020-06-03 15:11:24.167651"], ["updated_at", "2020-06-03 15:11:24.167651"], ["token", "1b7415a31ce729b54c9442fc8de72f4e"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.177225"], ["updated_at", "2020-06-03 15:11:24.177225"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:11:24.193135"], ["updated_at", "2020-06-03 15:11:24.193135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:11:24.200262"], ["updated_at", "2020-06-03 15:11:24.200262"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:11:24.207418"], ["updated_at", "2020-06-03 15:11:24.207418"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:11:24.233693"], ["updated_at", "2020-06-03 15:11:24.233693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>"1b7415a31ce729b54c9442fc8de72f4e"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "1b7415a31ce729b54c9442fc8de72f4e"], ["LIMIT", 1]]
  [1m[36mAppointment Load (0.3ms)[0m  [1m[34mSELECT "name", "category", "description", "city", "address", "appointments"."date", "duration", "price" FROM "appointments" INNER JOIN "users" ON "users"."id" = "appointments"."user_id" INNER JOIN "body_treatments" ON "body_treatments"."id" = "appointments"."body_treatment_id" INNER JOIN "studios" ON "studios"."id" = "appointments"."studio_id" INNER JOIN "durations" ON "durations"."id" = "appointments"."duration_id" WHERE "appointments"."user_id" = ? ORDER BY "appointments"."date" ASC[0m  [["user_id", 2]]
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 2330)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$3UTXcfuFSf8.JaTWHmBjAuE3cS0.I6ILCZnEUNOXQDqZnM.Hr9zfK"], ["created_at", "2020-06-03 15:11:24.267032"], ["updated_at", "2020-06-03 15:11:24.267032"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$.W2XZoSUUt6KkkxtZXIb6eiI1wuMb68RhJRUiHyTBaWhP/HWhLsZy"], ["created_at", "2020-06-03 15:11:24.271151"], ["updated_at", "2020-06-03 15:11:24.271151"], ["token", "f665c9c2538f99cb8805dabfa82cc524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.272079"], ["updated_at", "2020-06-03 15:11:24.272079"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:11:24.273547"], ["updated_at", "2020-06-03 15:11:24.273547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:11:24.274553"], ["updated_at", "2020-06-03 15:11:24.274553"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:11:24.276348"], ["updated_at", "2020-06-03 15:11:24.276348"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"f665c9c2538f99cb8805dabfa82cc524"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "f665c9c2538f99cb8805dabfa82cc524"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1269)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$Igjel6OQD/60gKck4HZRF.JNJBzGvQ9NtDseCHRxM6mXaL56zev42"], ["created_at", "2020-06-03 15:11:24.291632"], ["updated_at", "2020-06-03 15:11:24.291632"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$2SbZQlWPZk/DxTK7BaJF5O6vREboQ.k.OCYA0zIN5S2V8AdOJHKZa"], ["created_at", "2020-06-03 15:11:24.294952"], ["updated_at", "2020-06-03 15:11:24.294952"], ["token", "9e996b2cc65c5eb87461e216a01af0c1"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:11:24.296081"], ["updated_at", "2020-06-03 15:11:24.296081"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"9e996b2cc65c5eb87461e216a01af0c1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "9e996b2cc65c5eb87461e216a01af0c1"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 548)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$UnDpLHPCZ0POsfzfiV958OqPXkkKi29SjrmvGfjWCoqwW78GMuXj."], ["created_at", "2020-06-03 15:11:24.309592"], ["updated_at", "2020-06-03 15:11:24.309592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$5o8pZI9UtSG3obMIzRNfBOuxIinL2vtknH6TAu8JzeeyPluKzC5Yq"], ["created_at", "2020-06-03 15:11:24.316404"], ["updated_at", "2020-06-03 15:11:24.316404"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 15:11:24.317910"], ["token", "6d27e68c078d30cf5d3aae2fd62fe91b"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1847)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1124)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "0f1820488ce4f5ad63c6bf5e8bfec6fd"], ["updated_at", "2020-06-03 15:11:24.347534"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1312)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "cf1ea5145a28c4082a63e74c16bb39fb"], ["updated_at", "2020-06-03 15:11:24.357424"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"cf1ea5145a28c4082a63e74c16bb39fb"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "cf1ea5145a28c4082a63e74c16bb39fb"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 15:11:24.361737"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$M3fIEzUyecwV74largdRX.DzFl1cKlnuB6we2jo.pU9X8fuouM6U6"], ["created_at", "2020-06-03 15:11:24.369326"], ["updated_at", "2020-06-03 15:11:24.369326"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:11:24.370700"], ["updated_at", "2020-06-03 15:11:24.370700"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.372109"], ["updated_at", "2020-06-03 15:11:24.372109"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:11:24.374126"], ["updated_at", "2020-06-03 15:11:24.374126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:11:24.380211"], ["updated_at", "2020-06-03 15:11:24.380211"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 15:11:24.417418"], ["updated_at", "2020-06-03 15:11:24.417418"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.437416"], ["updated_at", "2020-06-03 15:11:24.437416"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:11:24.440219"], ["updated_at", "2020-06-03 15:11:24.440219"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.443894"], ["updated_at", "2020-06-03 15:11:24.443894"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.449833"], ["updated_at", "2020-06-03 15:11:24.449833"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.455126"], ["updated_at", "2020-06-03 15:11:24.455126"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:11:24.478522"], ["updated_at", "2020-06-03 15:11:24.478522"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.480392"], ["updated_at", "2020-06-03 15:11:24.480392"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:11:24.482736"], ["updated_at", "2020-06-03 15:11:24.482736"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:11:24.486280"], ["updated_at", "2020-06-03 15:11:24.486280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.487404"], ["updated_at", "2020-06-03 15:11:24.487404"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.5ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:11:24.495175"], ["updated_at", "2020-06-03 15:11:24.495175"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:11:24.498179"], ["updated_at", "2020-06-03 15:11:24.498179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 15:11:24.505643"], ["updated_at", "2020-06-03 15:11:24.505643"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$1fERkQqAKrZRrOxbZY7kVeBwXqcMIcGyhzBPSFuLZZu3kRv7ERxbW"], ["created_at", "2020-06-03 15:11:24.530073"], ["updated_at", "2020-06-03 15:11:24.530073"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$dntfqrgwwnuWHAYyaCgOVes/VlPDTVIo2SKASPg52/oJ5VjmHblSS"], ["created_at", "2020-06-03 15:11:24.566183"], ["updated_at", "2020-06-03 15:11:24.566183"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$S28Xau7EbV.G9TIFYet/RO49w6yvNTbbFVXMQ1SGLd3VpJKMlo2xO"], ["created_at", "2020-06-03 15:21:14.034256"], ["updated_at", "2020-06-03 15:21:14.034256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$l6kWhDUcEDfK3oNVx4L99.r/Lx7Cc8H3.ebWZNvbWzRgAT.YAnzte"], ["created_at", "2020-06-03 15:21:14.036991"], ["updated_at", "2020-06-03 15:21:14.036991"], ["token", "6ca457c76e6de80e7fb14dc6ee743b69"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.045731"], ["updated_at", "2020-06-03 15:21:14.045731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:21:14.061584"], ["updated_at", "2020-06-03 15:21:14.061584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:14.068561"], ["updated_at", "2020-06-03 15:21:14.068561"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:21:14.075693"], ["updated_at", "2020-06-03 15:21:14.075693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:21:14.105045"], ["updated_at", "2020-06-03 15:21:14.105045"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>"6ca457c76e6de80e7fb14dc6ee743b69"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "6ca457c76e6de80e7fb14dc6ee743b69"], ["LIMIT", 1]]
  [1m[36mAppointment Load (0.3ms)[0m  [1m[34mSELECT "name", "category", "description", "city", "address", "appointments"."date", "duration", "price" FROM "appointments" INNER JOIN "users" ON "users"."id" = "appointments"."user_id" INNER JOIN "body_treatments" ON "body_treatments"."id" = "appointments"."body_treatment_id" INNER JOIN "studios" ON "studios"."id" = "appointments"."studio_id" INNER JOIN "durations" ON "durations"."id" = "appointments"."duration_id" WHERE "appointments"."user_id" = ? ORDER BY "appointments"."date" ASC[0m  [["user_id", 2]]
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 2330)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#create as HTML
  Parameters: {"user"=>{"address"=>"Heaven Street 7 - 11", "category"=>"Massage", "city"=>"Seattle", "date"=>"2020-07-02", "duration"=>"30", "service"=>"Full Body Massage", "token"=>"6ca457c76e6de80e7fb14dc6ee743b69"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "6ca457c76e6de80e7fb14dc6ee743b69"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.3ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."name" = ? AND "body_treatments"."category" = ? LIMIT ?[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."city" = ? AND "studios"."address" = ? LIMIT ?[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" WHERE "locations"."studio_id" = ? AND "locations"."body_treatment_id" = ? LIMIT ?[0m  [["studio_id", 1], ["body_treatment_id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.2ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."body_treatment_id" = ? AND "durations"."duration" = ? LIMIT ?[0m  [["body_treatment_id", 1], ["duration", 30], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:21:14.148089"], ["updated_at", "2020-06-03 15:21:14.148089"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3688)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ssPxETq4wMAsOjL.cl.I4.K/O2FwnK4rl/lHf4wu39qjD4EEZHvRm"], ["created_at", "2020-06-03 15:21:14.153429"], ["updated_at", "2020-06-03 15:21:14.153429"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$vcqGHL/Fub/FiqpfnCoRquK2TBUrlTRIK2..xkhKuj2Npv9Ff7tKO"], ["created_at", "2020-06-03 15:21:14.156385"], ["updated_at", "2020-06-03 15:21:14.156385"], ["token", "fa0ebf77d8f41e3c4eb29f701d8555c6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.157413"], ["updated_at", "2020-06-03 15:21:14.157413"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:21:14.159681"], ["updated_at", "2020-06-03 15:21:14.159681"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:14.160816"], ["updated_at", "2020-06-03 15:21:14.160816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:21:14.162861"], ["updated_at", "2020-06-03 15:21:14.162861"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"fa0ebf77d8f41e3c4eb29f701d8555c6"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "fa0ebf77d8f41e3c4eb29f701d8555c6"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1263)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$eFVohdjmQomIhGnZj42.JeEs3F8wIdIqRCr/TLaQ50xwJXsFikMpK"], ["created_at", "2020-06-03 15:21:14.177972"], ["updated_at", "2020-06-03 15:21:14.177972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$0Ubn.6HVvkPZOK0FMQTKW.JpmaJCntPENZJM368v6th9FTEf/z9Ay"], ["created_at", "2020-06-03 15:21:14.182056"], ["updated_at", "2020-06-03 15:21:14.182056"], ["token", "db530abe222db264bb39f0dbbe21d18c"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:14.183182"], ["updated_at", "2020-06-03 15:21:14.183182"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"db530abe222db264bb39f0dbbe21d18c"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "db530abe222db264bb39f0dbbe21d18c"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 548)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$nxGVP/CFMByn23U3M0EQ/OrE2JUOV7xl/xWU5QXpBVqw//O2vFhPy"], ["created_at", "2020-06-03 15:21:14.196804"], ["updated_at", "2020-06-03 15:21:14.196804"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$4MvbnBubyoN/DSeQu8D8su8/I6FqRqWP.qzQc6/POEhWJOjAPttH2"], ["created_at", "2020-06-03 15:21:14.202558"], ["updated_at", "2020-06-03 15:21:14.202558"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 15:21:14.203979"], ["token", "aeb78a526a6f65c6099704a6e07e8911"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1836)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "bd622abae9082ffb1b57921fab1d67a6"], ["updated_at", "2020-06-03 15:21:14.233510"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1312)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "67ba1a4f98af3f08025f5c334eb3653c"], ["updated_at", "2020-06-03 15:21:14.245848"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"67ba1a4f98af3f08025f5c334eb3653c"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "67ba1a4f98af3f08025f5c334eb3653c"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 15:21:14.248678"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 977)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$U/Htzh6v7GLtF897ZPuQPeSeegA06grJBSbNyaXvKKbTE0Tjg7JDK"], ["created_at", "2020-06-03 15:21:14.253300"], ["updated_at", "2020-06-03 15:21:14.253300"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:14.254611"], ["updated_at", "2020-06-03 15:21:14.254611"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.255653"], ["updated_at", "2020-06-03 15:21:14.255653"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:21:14.257425"], ["updated_at", "2020-06-03 15:21:14.257425"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.3ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:21:14.263855"], ["updated_at", "2020-06-03 15:21:14.263855"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 15:21:14.307112"], ["updated_at", "2020-06-03 15:21:14.307112"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.323816"], ["updated_at", "2020-06-03 15:21:14.323816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:21:14.326107"], ["updated_at", "2020-06-03 15:21:14.326107"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.331428"], ["updated_at", "2020-06-03 15:21:14.331428"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.357726"], ["updated_at", "2020-06-03 15:21:14.357726"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.364814"], ["updated_at", "2020-06-03 15:21:14.364814"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.5ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:14.371377"], ["updated_at", "2020-06-03 15:21:14.371377"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.373788"], ["updated_at", "2020-06-03 15:21:14.373788"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.3ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:21:14.377910"], ["updated_at", "2020-06-03 15:21:14.377910"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:14.382624"], ["updated_at", "2020-06-03 15:21:14.382624"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.383954"], ["updated_at", "2020-06-03 15:21:14.383954"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:14.389994"], ["updated_at", "2020-06-03 15:21:14.389994"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:14.391945"], ["updated_at", "2020-06-03 15:21:14.391945"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 15:21:14.401758"], ["updated_at", "2020-06-03 15:21:14.401758"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$j18Bv3Uvp5VlQ9v8vghCheP9zF4BcngyDXPz8OI3Op/veRupDrpw6"], ["created_at", "2020-06-03 15:21:14.426473"], ["updated_at", "2020-06-03 15:21:14.426473"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$O4HgpMnF/phVHaCTdjWtZOpU.8ASf2SXieub7TFrB8shyR4nRwMg."], ["created_at", "2020-06-03 15:21:14.471960"], ["updated_at", "2020-06-03 15:21:14.471960"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$9krZlegI8lqafq0D7ncQCOyKHtY06jHaoGXa8P9.R0cIGLPShaIgW"], ["created_at", "2020-06-03 15:21:53.825891"], ["updated_at", "2020-06-03 15:21:53.825891"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$MEscqlsqsZFMR/FqNOibCu08IQd4/DHvlbCgeQaqpJKRa.9pB1T5W"], ["created_at", "2020-06-03 15:21:53.828811"], ["updated_at", "2020-06-03 15:21:53.828811"], ["token", "b6c282c082b1f402578429f4ca7ab11b"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:53.837215"], ["updated_at", "2020-06-03 15:21:53.837215"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:21:53.852106"], ["updated_at", "2020-06-03 15:21:53.852106"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:53.860049"], ["updated_at", "2020-06-03 15:21:53.860049"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:21:53.868469"], ["updated_at", "2020-06-03 15:21:53.868469"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:21:53.899693"], ["updated_at", "2020-06-03 15:21:53.899693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>"b6c282c082b1f402578429f4ca7ab11b"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "b6c282c082b1f402578429f4ca7ab11b"], ["LIMIT", 1]]
  [1m[36mAppointment Load (0.2ms)[0m  [1m[34mSELECT "name", "category", "description", "city", "address", "appointments"."date", "duration", "price" FROM "appointments" INNER JOIN "users" ON "users"."id" = "appointments"."user_id" INNER JOIN "body_treatments" ON "body_treatments"."id" = "appointments"."body_treatment_id" INNER JOIN "studios" ON "studios"."id" = "appointments"."studio_id" INNER JOIN "durations" ON "durations"."id" = "appointments"."duration_id" WHERE "appointments"."user_id" = ? ORDER BY "appointments"."date" ASC[0m  [["user_id", 2]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2330)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#create as HTML
  Parameters: {"user"=>{"address"=>"Heaven Street 7 - 11", "category"=>"Massage", "city"=>"Seattle", "date"=>"2020-07-02", "duration"=>"30", "service"=>"Full Body Massage", "token"=>"b6c282c082b1f402578429f4ca7ab11b"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "b6c282c082b1f402578429f4ca7ab11b"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."name" = ? AND "body_treatments"."category" = ? LIMIT ?[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."city" = ? AND "studios"."address" = ? LIMIT ?[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" WHERE "locations"."studio_id" = ? AND "locations"."body_treatment_id" = ? LIMIT ?[0m  [["studio_id", 1], ["body_treatment_id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."body_treatment_id" = ? AND "durations"."duration" = ? LIMIT ?[0m  [["body_treatment_id", 1], ["duration", 30], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:21:53.932796"], ["updated_at", "2020-06-03 15:21:53.932796"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 3688)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#create as HTML
  Parameters: {"user"=>{"address"=>"Heaven Street 7 - 11", "category"=>"Massage", "city"=>"Seattle", "date"=>"2020-07-02", "duration"=>"30", "service"=>"Full Body Massage", "token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 327)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$/J.CJME9Mx5ku46Wcg5z9OuxB1S08/7PfjPrrryugSLLKHB1DaQbe"], ["created_at", "2020-06-03 15:21:53.942329"], ["updated_at", "2020-06-03 15:21:53.942329"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$OhqVFr7mQQjKxoTDCi0HeuAIk4pXlsUVGgvjmDrGJcSJCc65qCmJe"], ["created_at", "2020-06-03 15:21:53.945382"], ["updated_at", "2020-06-03 15:21:53.945382"], ["token", "19bc36ad2b8e56a8d8e7cfe2f2e4acf5"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:53.946419"], ["updated_at", "2020-06-03 15:21:53.946419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 15:21:53.948167"], ["updated_at", "2020-06-03 15:21:53.948167"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:53.949107"], ["updated_at", "2020-06-03 15:21:53.949107"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:21:53.951540"], ["updated_at", "2020-06-03 15:21:53.951540"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"19bc36ad2b8e56a8d8e7cfe2f2e4acf5"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "19bc36ad2b8e56a8d8e7cfe2f2e4acf5"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1263)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$zC0skzJ.W4bvfG/hVgXPhOD20VzEgsv43LmZo5Qt8p/8pmCmKQxj2"], ["created_at", "2020-06-03 15:21:53.965197"], ["updated_at", "2020-06-03 15:21:53.965197"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$TXKwe9V1UK88mkJu263IeOFMdEFXHhE2nZSztYOgCI/ln9/sAt/Lm"], ["created_at", "2020-06-03 15:21:53.968447"], ["updated_at", "2020-06-03 15:21:53.968447"], ["token", "724ae695d5398a4aa0c8f106b1098050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:53.969841"], ["updated_at", "2020-06-03 15:21:53.969841"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"724ae695d5398a4aa0c8f106b1098050"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "724ae695d5398a4aa0c8f106b1098050"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 548)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$3oLxp5SeAu4DOaCENWndcuCObvdn58utT5B4SWCofscscvTXLYoEq"], ["created_at", "2020-06-03 15:21:53.984774"], ["updated_at", "2020-06-03 15:21:53.984774"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$vPEG3MVi9OtpRTHnWprYoehO2A90u.M2QLgEMb1ii8qvlifutLxuW"], ["created_at", "2020-06-03 15:21:53.991466"], ["updated_at", "2020-06-03 15:21:53.991466"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 15:21:53.993009"], ["token", "eed2c596dabd5354429fc1469d54728e"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1836)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2210)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "a205c81f97297e214c5e668a41865a90"], ["updated_at", "2020-06-03 15:21:54.020280"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1312)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "584346b547b2cc9e1ec6a5329e631c48"], ["updated_at", "2020-06-03 15:21:54.031173"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"584346b547b2cc9e1ec6a5329e631c48"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "584346b547b2cc9e1ec6a5329e631c48"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 15:21:54.034471"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$gMJO00EinTJ5tF8LD6ieIO2rVDPTEAzNmZAleVOcjsV4SKY0oAGhS"], ["created_at", "2020-06-03 15:21:54.040413"], ["updated_at", "2020-06-03 15:21:54.040413"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:54.041651"], ["updated_at", "2020-06-03 15:21:54.041651"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:54.042681"], ["updated_at", "2020-06-03 15:21:54.042681"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:21:54.044577"], ["updated_at", "2020-06-03 15:21:54.044577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.2ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 15:21:54.050183"], ["updated_at", "2020-06-03 15:21:54.050183"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 15:21:54.100315"], ["updated_at", "2020-06-03 15:21:54.100315"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.4ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:54.118904"], ["updated_at", "2020-06-03 15:21:54.118904"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 15:21:54.121643"], ["updated_at", "2020-06-03 15:21:54.121643"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:54.141488"], ["updated_at", "2020-06-03 15:21:54.141488"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:54.147941"], ["updated_at", "2020-06-03 15:21:54.147941"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:54.157808"], ["updated_at", "2020-06-03 15:21:54.157808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:54.165260"], ["updated_at", "2020-06-03 15:21:54.165260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:54.167094"], ["updated_at", "2020-06-03 15:21:54.167094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 15:21:54.169731"], ["updated_at", "2020-06-03 15:21:54.169731"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:54.173625"], ["updated_at", "2020-06-03 15:21:54.173625"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:54.174829"], ["updated_at", "2020-06-03 15:21:54.174829"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.2ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 15:21:54.182999"], ["updated_at", "2020-06-03 15:21:54.182999"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 15:21:54.184381"], ["updated_at", "2020-06-03 15:21:54.184381"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.3ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 15:21:54.192622"], ["updated_at", "2020-06-03 15:21:54.192622"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$yY.LYCkoM2rzyVGrChaJKeCN.VSf6/iZIOkUEWQdOtGRg6DHeAk2O"], ["created_at", "2020-06-03 15:21:54.218537"], ["updated_at", "2020-06-03 15:21:54.218537"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$09TEy3/TlryrTZRzgmrw9.dHb5RXf0eu/Qv4MR885zxCC/bt0HhGa"], ["created_at", "2020-06-03 15:21:54.257270"], ["updated_at", "2020-06-03 15:21:54.257270"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "appointments";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'appointments';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "body_treatments";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'body_treatments';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "durations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'durations';[0m
  [1m[35m (2.4ms)[0m  [1m[31mDELETE FROM "locations";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'locations';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "studios";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'studios';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$njiliII823WOPOxL/cv6le4W2wNkmimK83/iO3ZaoWv.PSAo4ZO9i"], ["created_at", "2020-06-03 18:18:05.991782"], ["updated_at", "2020-06-03 18:18:05.991782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$V.t0lbp9xlrl/OyULQ1RPuD7HJOTsilTbtjzUXeSnW5B8tl26UizC"], ["created_at", "2020-06-03 18:18:05.995149"], ["updated_at", "2020-06-03 18:18:05.995149"], ["token", "1168a6d44e04e1ba1ad09ac5c0228558"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.003998"], ["updated_at", "2020-06-03 18:18:06.003998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 18:18:06.020226"], ["updated_at", "2020-06-03 18:18:06.020226"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 18:18:06.028298"], ["updated_at", "2020-06-03 18:18:06.028298"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 18:18:06.036273"], ["updated_at", "2020-06-03 18:18:06.036273"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 18:18:06.063679"], ["updated_at", "2020-06-03 18:18:06.063679"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>"1168a6d44e04e1ba1ad09ac5c0228558"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "1168a6d44e04e1ba1ad09ac5c0228558"], ["LIMIT", 1]]
  [1m[36mAppointment Load (0.2ms)[0m  [1m[34mSELECT "name", "category", "description", "city", "address", "appointments"."date", "duration", "price" FROM "appointments" INNER JOIN "users" ON "users"."id" = "appointments"."user_id" INNER JOIN "body_treatments" ON "body_treatments"."id" = "appointments"."body_treatment_id" INNER JOIN "studios" ON "studios"."id" = "appointments"."studio_id" INNER JOIN "durations" ON "durations"."id" = "appointments"."duration_id" WHERE "appointments"."user_id" = ? ORDER BY "appointments"."date" ASC[0m  [["user_id", 2]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 2330)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#create as HTML
  Parameters: {"user"=>{"address"=>"Heaven Street 7 - 11", "category"=>"Massage", "city"=>"Seattle", "date"=>"2020-07-02", "duration"=>"30", "service"=>"Full Body Massage", "token"=>"1168a6d44e04e1ba1ad09ac5c0228558"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "1168a6d44e04e1ba1ad09ac5c0228558"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."name" = ? AND "body_treatments"."category" = ? LIMIT ?[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."city" = ? AND "studios"."address" = ? LIMIT ?[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" WHERE "locations"."studio_id" = ? AND "locations"."body_treatment_id" = ? LIMIT ?[0m  [["studio_id", 1], ["body_treatment_id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.3ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."body_treatment_id" = ? AND "durations"."duration" = ? LIMIT ?[0m  [["body_treatment_id", 1], ["duration", 30], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 18:18:06.099592"], ["updated_at", "2020-06-03 18:18:06.099592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2757)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by AppointmentController#create as HTML
  Parameters: {"user"=>{"address"=>"Heaven Street 7 - 11", "category"=>"Massage", "city"=>"Seattle", "date"=>"2020-07-02", "duration"=>"30", "service"=>"Full Body Massage", "token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 327)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$UimOgOBrsXc80a0NDGY7le.aMapxh7p8G7rrzl7abFl4NfToxL0i."], ["created_at", "2020-06-03 18:18:06.109364"], ["updated_at", "2020-06-03 18:18:06.109364"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$2ubRCIlEdzPuFxVLLWMlzuDZPRhKY8ySic1BXTGVPKD3t96RXcu6y"], ["created_at", "2020-06-03 18:18:06.112676"], ["updated_at", "2020-06-03 18:18:06.112676"], ["token", "073b16ea65fc40971d2cbf2857852285"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.113910"], ["updated_at", "2020-06-03 18:18:06.113910"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 30], ["price", 23.0], ["created_at", "2020-06-03 18:18:06.115679"], ["updated_at", "2020-06-03 18:18:06.115679"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 18:18:06.116524"], ["updated_at", "2020-06-03 18:18:06.116524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 18:18:06.118425"], ["updated_at", "2020-06-03 18:18:06.118425"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>"073b16ea65fc40971d2cbf2857852285"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "073b16ea65fc40971d2cbf2857852285"], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments"."name", "body_treatments"."category", "body_treatments"."description", "city", "address", "duration", "price" FROM "body_treatments" INNER JOIN "locations" ON "locations"."body_treatment_id" = "body_treatments"."id" INNER JOIN "studios" ON "studios"."id" = "locations"."studio_id" INNER JOIN "durations" ON "durations"."body_treatment_id" = "body_treatments"."id" ORDER BY "body_treatments"."name" ASC, "city" ASC, "address" ASC, "duration" ASC[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1263)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by BodyTreatmentController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$q5e5IxPsdrWSqG4bhrpwQ.wkU7ExHjTXqvixwk8yw3yO3oOjSEt4a"], ["created_at", "2020-06-03 18:18:06.135106"], ["updated_at", "2020-06-03 18:18:06.135106"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe2@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe2@gmail.com"], ["password_digest", "$2a$04$2x/rAPeamLLE5OYlWSJG6.AKXF38mJ9B1fiHtVINFn4zRiyP6SMWi"], ["created_at", "2020-06-03 18:18:06.139432"], ["updated_at", "2020-06-03 18:18:06.139432"], ["token", "b8597c21f64dce28c20484b125a2369d"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 18:18:06.140322"], ["updated_at", "2020-06-03 18:18:06.140322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>"b8597c21f64dce28c20484b125a2369d"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "b8597c21f64dce28c20484b125a2369d"], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios"[0m
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 548)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by StudioController#index as HTML
  Parameters: {"user"=>{"token"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", ""], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 261)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$HHjlLNfdrN24gtqKe5uTtOe4vB13dTXUs6MybNuhYfAeB7MONmSOS"], ["created_at", "2020-06-03 18:18:06.154546"], ["updated_at", "2020-06-03 18:18:06.154546"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"Jon", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$1k3KqSQeDv.ixLNztV52B.Lm2/V1KqUWh5ySlnY/WjvRLS1zWs73."], ["created_at", "2020-06-03 18:18:06.162510"], ["updated_at", "2020-06-03 18:18:06.162510"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2020-06-03 18:18:06.164862"], ["token", "96874492e022af4b71c727beb87b44a4"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1836)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 2210)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#create as HTML
  Parameters: {"user"=>{"email"=>"jon.doe@gmail.com", "firstname"=>"", "lastname"=>"Doe", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1124)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "87fa4e8210b4ce03602c8215b68698db"], ["updated_at", "2020-06-03 18:18:06.198575"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1312)
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.do@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.do@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 273)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by UserController#login as HTML
  Parameters: {"user"=>{"email"=>"jane.doe@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", "7f02f14d592926c4ded20b511e97086a"], ["updated_at", "2020-06-03 18:18:06.212175"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 1140)
Processing by UserController#logout as HTML
  Parameters: {"user"=>{"token"=>"7f02f14d592926c4ded20b511e97086a"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."token" = ? LIMIT ?[0m  [["token", "7f02f14d592926c4ded20b511e97086a"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "token" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["token", nil], ["updated_at", "2020-06-03 18:18:06.217985"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 977)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$ROcDR4Ee0krsx4.9QHE8BOkdC2FMf7edh.SClyRMKbKstVgzO7ODS"], ["created_at", "2020-06-03 18:18:06.223457"], ["updated_at", "2020-06-03 18:18:06.223457"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudio Create (0.2ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 18:18:06.224813"], ["updated_at", "2020-06-03 18:18:06.224813"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.226353"], ["updated_at", "2020-06-03 18:18:06.226353"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.2ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 18:18:06.228814"], ["updated_at", "2020-06-03 18:18:06.228814"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAppointment Create (0.1ms)[0m  [1m[32mINSERT INTO "appointments" ("user_id", "body_treatment_id", "studio_id", "duration_id", "date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["body_treatment_id", 1], ["studio_id", 1], ["duration_id", 1], ["date", "2020-07-02"], ["created_at", "2020-06-03 18:18:06.235306"], ["updated_at", "2020-06-03 18:18:06.235306"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.1ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.0ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Load (0.0ms)[0m  [1m[34mSELECT "durations".* FROM "durations" WHERE "durations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "appointments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Treatment name"], ["category", "Treatment category"], ["description", "Treatment descrption"], ["created_at", "2020-06-03 18:18:06.282826"], ["updated_at", "2020-06-03 18:18:06.282826"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "body_treatments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.303933"], ["updated_at", "2020-06-03 18:18:06.303933"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDuration Create (0.1ms)[0m  [1m[32mINSERT INTO "durations" ("body_treatment_id", "duration", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["duration", 45], ["price", 25.25], ["created_at", "2020-06-03 18:18:06.307728"], ["updated_at", "2020-06-03 18:18:06.307728"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.3ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.311802"], ["updated_at", "2020-06-03 18:18:06.311802"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.340875"], ["updated_at", "2020-06-03 18:18:06.340875"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.348143"], ["updated_at", "2020-06-03 18:18:06.348143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "durations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.4ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 18:18:06.358539"], ["updated_at", "2020-06-03 18:18:06.358539"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.2ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.360657"], ["updated_at", "2020-06-03 18:18:06.360657"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.2ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLocation Create (0.2ms)[0m  [1m[32mINSERT INTO "locations" ("body_treatment_id", "studio_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["body_treatment_id", 1], ["studio_id", 1], ["created_at", "2020-06-03 18:18:06.364295"], ["updated_at", "2020-06-03 18:18:06.364295"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 18:18:06.370277"], ["updated_at", "2020-06-03 18:18:06.370277"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.372179"], ["updated_at", "2020-06-03 18:18:06.372179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.0ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.1ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Heaven Street 7 - 11"], ["created_at", "2020-06-03 18:18:06.378369"], ["updated_at", "2020-06-03 18:18:06.378369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Create (0.1ms)[0m  [1m[32mINSERT INTO "body_treatments" ("name", "category", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Full Body Massage"], ["category", "Massage"], ["description", "Full body massage by specialist"], ["created_at", "2020-06-03 18:18:06.379854"], ["updated_at", "2020-06-03 18:18:06.379854"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mBodyTreatment Load (0.1ms)[0m  [1m[34mSELECT "body_treatments".* FROM "body_treatments" WHERE "body_treatments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudio Load (0.1ms)[0m  [1m[34mSELECT "studios".* FROM "studios" WHERE "studios"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mStudio Create (0.7ms)[0m  [1m[32mINSERT INTO "studios" ("city", "address", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["city", "Seattle"], ["address", "Studio1"], ["created_at", "2020-06-03 18:18:06.389203"], ["updated_at", "2020-06-03 18:18:06.389203"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "studios"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jon"], ["lastname", "Doe"], ["email", "jon.doe@gmail.com"], ["password_digest", "$2a$04$MDPV2w3can6Udn/7dPSiBeI6cEACP6pF.75mdpZDm3Lpky2ksn7v."], ["created_at", "2020-06-03 18:18:06.422788"], ["updated_at", "2020-06-03 18:18:06.422788"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jon.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Jane"], ["lastname", "Doe"], ["email", "jane.doe@gmail.com"], ["password_digest", "$2a$04$mKSHLPlRHuGdk6F.osX83Ovfm2Qyu8XaiYsMf5zq0KFtzIR1O8DYy"], ["created_at", "2020-06-03 18:18:06.467219"], ["updated_at", "2020-06-03 18:18:06.467219"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jane.doe@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_2[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
